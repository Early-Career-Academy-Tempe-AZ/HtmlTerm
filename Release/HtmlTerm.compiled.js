var ByteArray=function(){var a=this,c=[],h=0,m=0;this.__defineGetter__("bytesAvailable",function(){return h-m});this.clear=function(){c=[];m=h=0};this.__defineGetter__("length",function(){return h});this.__defineSetter__("length",function(n){if(0>=n)a.clear();else{if(n<h)c.splice(n,h-n);else if(n>h){var b;for(b=h+1;b<=n;b++)c.push(0)}h=n}});this.__defineGetter__("position",function(){return m});this.__defineSetter__("position",function(a){0>=a?a=0:a>=h&&(a=h);m=a});this.readBytes=function(a,b,l){if(m+
l>h)throw"There is not sufficient data available to read.";var s=a.position;a.position=b;for(b=0;b<l;b++)a.writeByte(c[m++]&255);a.position=s};this.readString=function(){var n=[],b;for(b=m;b<h;b++)n.push(String.fromCharCode(c[b]));a.clear();return n.join("")};this.readUnsignedByte=function(){if(m>=h)throw"There is not sufficient data available to read.";return c[m++]&255};this.readUnsignedShort=function(){if(m>=h-1)throw"There is not sufficient data available to read.";return((c[m++]&255)<<8)+(c[m++]&
255)};this.toString=function(){var a=[],b;for(b=0;b<h;b++)a.push(String.fromCharCode(c[b]));return a.join("")};this.writeByte=function(a){c[m++]=a&255;m>h&&h++};this.writeBytes=function(c,b,l){"undefined"===typeof b&&(b=0);"undefined"===typeof l&&(l=0);0>b&&(b=0);if(!(0>l)){0===l&&(l=c.length);b>=c.length&&(b=0);l>c.length&&(l=c.length);b+l>c.length&&(l=c.length-b);var h=c.position;c.position=b;for(b=0;b<l;b++)a.writeByte(c.readUnsignedByte());c.position=h}};this.writeShort=function(c){a.writeByte((c&
65280)>>8);a.writeByte(c&255)};this.writeString=function(c){var b,l=c.length;for(b=0;b<l;b++)a.writeByte(c.charCodeAt(b))}},FileReference=function(a,c){this.data=new ByteArray;this.name=a;this.size=c},Keyboard=0,TKeyboard=function(){this.ALTERNATE=18;this.APPMENU=1001;this.BACKSPACE=8;this.BREAK=1E3;this.CAPS_LOCK=20;this.CONTROL=17;this.DELETE=46;this.DOWN=40;this.END=35;this.ESCAPE=27;this.ENTER=13;this.F1=112;this.F2=113;this.F3=114;this.F4=115;this.F5=116;this.F6=117;this.F7=118;this.F8=119;this.F9=
120;this.F10=121;this.F11=122;this.F12=123;this.HOME=36;this.INSERT=45;this.LEFT=37;this.NUM_LOCK=1002;this.PAGE_DOWN=34;this.PAGE_UP=33;this.RIGHT=39;this.SHIFT=16;this.SPACE=32;this.TAB=9;this.WINDOWS=1003;this.UP=38},Keyboard=new TKeyboard,Point=function(a,c){this.x=a;this.y=c},DEBUG=!1,PNGAsset="data:image/png;base64,";
try{!Object.prototype.__defineGetter__&&Object.defineProperty({},"x",{get:function(){return!0}}).x&&(Object.defineProperty(Object.prototype,"__defineGetter__",{enumerable:!1,configurable:!0,value:function(a,c){Object.defineProperty(this,a,{get:c,enumerable:!0,configurable:!0})}}),Object.defineProperty(Object.prototype,"__defineSetter__",{enumerable:!1,configurable:!0,value:function(a,c){Object.defineProperty(this,a,{set:c,enumerable:!0,configurable:!0})}}))}catch(defPropException){Object.prototype.__defineGetter__||
(Object.prototype.__defineGetter__=function(a,c){},Object.prototype.__defineSetter__=function(a,c){})}!Object.prototype.addEventListener&&Object.attachEvent&&(Object.defineProperty(Object.prototype,"addEventListener",{enumerable:!1,configurable:!0,value:function(a,c){Object.attachEvent("on"+a,c)}}),Object.defineProperty(Object.prototype,"removeEventListener",{enumerable:!1,configurable:!0,value:function(a,c){Object.detachEvent("on"+a,c)}}));
function getElementPosition(a){a="string"===typeof a?document.getElementById(a):a;for(var c=0,h=0;a;)c+=a.offsetLeft,h+=a.offsetTop,a=a.offsetParent;-1!==navigator.userAgent.indexOf("Mac")&&"undefined"!==typeof document.body.leftMargin&&(c+=document.body.leftMargin,h+=document.body.topMargin);return new Point(c,h)}function trace(a){try{console.log("trace: "+a)}catch(c){DEBUG&&setTimeout(function(){throw Error("trace: "+a);},0)}}
var Base64={toBase64Table:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),base64Pad:"=",encode:function(a){var c="",h=Base64.toBase64Table,m=Base64.base64Pad,n=a.length,b;for(b=0;b<n-2;b+=3)c+=h[a[b]>>2],c+=h[((a[b]&3)<<4)+(a[b+1]>>4)],c+=h[((a[b+1]&15)<<2)+(a[b+2]>>6)],c+=h[a[b+2]&63];n%3&&(b=n-n%3,c+=h[a[b]>>2],2===n%3?(c+=h[((a[b]&3)<<4)+(a[b+1]>>4)],c+=h[(a[b+1]&15)<<2],c+=m):(c+=h[(a[b]&3)<<4],c+=m+m));return c},toBinaryTable:[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,
-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1],decode:function(a,c){c="undefined"!==typeof c?c:0;var h=Base64.toBinaryTable,m=Base64.base64Pad,n,b,l,s,g,f=0,d=0;n=a.indexOf("=")-c;0>n&&(n=a.length-c);n=Array(3*
(n>>2)+Math.floor(n%4/1.5));b=0;for(l=c;l<a.length;l++)s=h[a.charCodeAt(l)&127],g=a.charAt(l)===m,-1===s?console.error("Illegal character code "+a.charCodeAt(l)+" at position "+l):(d=d<<6|s,f+=6,8<=f&&(f-=8,g||(n[b++]=d>>f&255),d&=(1<<f)-1));if(f)throw{name:"Base64-Error",message:"Corrupted base64 string"};return n}},StringUtils=0,TStringUtils=function(){var a=this;this.AddCommas=function(a){var h="",m=1,n;for(n=a.toString().length-1;0<=n;n--)3<m&&1===m%3&&(h=","+h),h=a.toString().charAt(n)+h,m++;
return h};this.FormatPercent=function(a,h){return(100*a).toFixed(h)+"%"};this.NewString=function(a,h){if(0===a.length)return"";var m="",n;for(n=0;n<h;n++)m+=a.charAt(0);return m};this.PadLeft=function(a,h,m){if(0===h.length)return a;for(;a.length<m;)a=h.charAt(0)+a;return a.substring(0,m)};this.PadRight=function(a,h,m){if(0===h.length)return a;for(;a.length<m;)a+=h.charAt(0);return a.substring(0,m)};this.Trim=function(c){return a.TrimLeft(a.TrimRight(c))};this.TrimLeft=function(a){return a.replace(/^\s+/g,
"")};this.TrimRight=function(a){return a.replace(/\s+$/g,"")}},StringUtils=new TStringUtils,TSaveFilesButton=function(){this.ongraphicchanged=function(){};var a=this,c=PNGAsset+"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",
h=PNGAsset+"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",
m=PNGAsset+"iVBORw0KGgoAAAANSUhEUgAAAUUAAABBCAYAAABGkrb/AAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAALEAAACxABrSO9dQAAAAd0SU1FB9oIEQ0FAaUMuVIAAAAZdEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjVJivzgAAAeeklEQVR4Xu2dCXQUVbrH58w7M+cJuCHDFnYQCPsuEFCJgggYUBYXUBEQEcflOXPG5/O9UVRcRkVUVNwdV9x3XAYJiwKyBCQQ1qSzdtLpJZ1953vf/3aKaTpVt6q7KwHaC+eeqq6+VXX73q9+9W335ne/U/9UD6geUD2gekD1gOoB1QOqB1QPRN0DI0eOJFVUHygZUDJwusnA7NmzKWoAahfAxU63DlDtVQ+tkgElA3oykJiYGB0clWApwVIyoGQgFmUgIq0xFjtC/Sb1gCsZUDKgycDkyZOta40ywZk7dy4tWbKEVqxYQS+//LIqqg+UDCgZOOVkYNWqVYJT4JWMZ5Y0RqML3HTTTeRwOCgtLU0V1QdKBpQMnDYy4HQ6admyZYZwlIIxKSmp0YkJCQn05ptvWu2AZAVN9dJQMqBk4FSUga+++ooQaAlV/MA4QzDqaYkWgPhsE3XA3ia6rlXAq3pKG1IyEGMysHPnTl2NUReKeqk3MJklYPpKQUtpBEoGlAycbjKAeIglbVFPSzzNfIgFp9vgqPYqoCgZODkygMhzKPMaaYuhFYy0xAWL76QZs66nWVffRHOuW0S5TjedrH/+0kq6+2/309wbb6V585fSdTcsoRsX3q5MnhgzeRQ4Tg44Yrnf9QIvplDESXqdMiXpGhow+AJRsO9ye6ju2LGTwkWfv5xuue2vdOXs+TTrmgV01Zz5NPvahQqKCopKBpQMSGUAsZKwNUXk+ehBMemqeTR/4R10w4I/09Tp15KvqITqTwIUgWF/aTktveMehuKNNJM1V7FlOMbyG079NqU1KRmIXgYigiISs42gePOtf6FFS/5C02ZcRyXllVTLhPIVF5PXX8HbcnL7y8jtLSWvt4yKsF9SwvsV5PcVUVFJKRUV+flYGbl8xeQvKScvjvG+l495i3x8rITcnhLyFJeSv6iUSopx3RIqKi2mEv7sLyun0ooqLpX057vuJYAaQJwx6wYBRyU00QuN6kPVh7EsA+Bb2JqiERSvuHIeXXHlXAFElIryKqqqOUY19TVUX1dH1ce41BLV1ddSTW0tHauvozre1qDOsXre1hFXFfu1dbVUXYdzj/GxeqrmujU1tVSL72uxj8Ln1OM8XIOvje9r66mOzy1jIAOKaA+AOH3m9XQlm9CxPJjqtylYKRmIXgZshSJACLNZK1WVNVRVyVBjoMGMPsaQI23LJu4xmNb1vG34zxsGJdcXO3yUgYc6+I+KgX2GqvjEW5zP1wRw+TQ+iHvVcznGmmI13XbnvcK3CW1Rg6MSmuiFRvWh6sNYlgFboQgAXX7F1QJEU5KupSpW63xsIqfneSnf5acsp5cy832U6yqkLK+XjmTz51wnZeUWUnq2izILiig7v4Ac2QV0pNBD2Xw8N6eQ8px8PNdLrjw3OQuLKMflpdxCH7l4P9/rIafXTwUePubz8/dsYrMJXVJRwT7F/xbt0bRXwDGWB1P9NgUrJQPRy4AdUHxKGwgA6LKps2nytDkCRtWsKXpL69m3WE7FJRVUXl5BJSWV7BesoBo+XlzGpm9tNZXy8cqqCirlNJrSSvYvVlZSVRnXL6liM7iCisV5fI3yeuFnLCnlYww+XKeYr1fMx0p5P/C5nCpZS/Tx9tbb7xFtgeYKUE9jU7qphGb79u306quv0l133UXTpk2j0aNHn+CXwGccx/dr1qyhXbt2NVlbmuo3xsp1P/74Y9vXAQ3tmxdeeMHwHtdee22jsU9OTpa2Cd+fKv3/448/NpJv/N7maN/777/fqJ8wRc/Oe9sBxeMNAoAmTZklwHjZ1DlUU8WaIgdXKhli5XXVVMfAK2NglTIAqysZblxqqxl8DEP4GEtK2RfIAZLq6nreMgjLa8mPumU1/JnBB4ByVLmsrJbKueBYMZ9bAkCW8XcMUkCzuLKaXP5SWvLnv4n2ANAaHO3sPFxr69atdPvtt0f0kN17770EmNrdJnU9ubagoBi5NrV3716aMWNGoxc+psg1h9zh/hMmTDjh/pMmTbL1ObIVioDhxMtnigIYwaeYz5HmzIw8ysnzUMZRHznYHM7O9pAj002H2KzOOeyljFw3Hc0rpMxMNpUzPXQ4s4Cy2LR28jl5eT6u72aTmc1pNqNzcn1shvvYpPaxue0VZnVeAX8ucFNuHpvZriIq9BaTkyPUi5f+lS6dfJUAItp2+RXX2DpweLhCNcJw1+TDgOLN2xwCpe4RgIGCYuRQXL58eSMF4MEHH2xW+X366acbteGee+6xrQ22QnHi5bPoksuuFCACGCs4GpzvqWB/H/v83GVUwL6/Qvb7Fbg57abUTy4+7uN9lzhWTB5/MdcpJZe3hOsVM9xwvJyTwHE8cF4R6gsfYuB8t/YZ1+Z91EG6Tjb7LxfderdoDwCN9gCOdoEBKnu4ADSqb/ebzq7fGKvXUVCMDIrfffedrsz/8MMPtj1XVmTup59+0m3HBx98YEs7bIXipQygxEkzaMLE6QJGVTXVlMOwcnmKOLewikFYSr6yOvL7/eT1VVI+Q9DHJq+Lk7zdnG9YxDB0A6AMRGdRmYAcAAj4eXHcw8cBRD/nKRYCpsUCoPmFfNxdxKWM94v42iV0lKG4cMl/ibYAiAKODG0rnW5WR8+EiBaQeAOb3Vd9H9nDHNpvCoqR9SN8oaFyDlP6ZMjlnXfe2agtUC7wbEbbnmiheMJCCwDixZcmiXIJ71dWVVO6w02/7jlCKSnZtGNPOm3bl0E/pzpoz+FfaeehbNq7J4t27TtKO/Y5KHV/BqWm5VLqgXRK3ZdLaVxv/9Fc2nOAjx3Mor2Hsyn1UA79Kj7zoraH8mgff07dn0X7D+Zy3TxKPZJDmWyKH81y0U0330kXXXKFACLaBg022g5rKvMLZrgdA2rH74v1azQHFMPtw1M90PLuu+/qamevvPKKLc9UuP2lF3ABsO0I+EQLxRM6ZALD8KLEaaIAjFU1NeRgjS2/sFCk0WTnF5KLF4nIZA0Q5q0o7AvMKShmfyDScwrJwXXy2MeINJ3MAg8f52O8n8PHsHXg/Hwv7/N5+M7J6T3wR4o6gboFbh8dyvCIBSDGT5hKaJcANcMx3M7Xq6/nVwl+g/79738/wfG7bds2gh/EzP9odxTNjt8ai9ewAsXm/t2nMhRlltHJioobrX2IIEy0QR9boXhR4hV0IUMIBWCsARQZWF6efudh8xkRYa/HR/nsQ3R5eIofm785pWzuIjACP6O/iDxeHzn9PvYpsinM8HO6SynPxefAr8hgdRYCpBxY4brIfSzkvEQn5zfmALRsOiPo4mLzOi2jQMzBHnfR5aItF3KZcOl0W6B43333GfoTkXZj9EAFv23HjRsnUnSCi9mivRDOL7/8ku6//35xXmgUDmDWUn/mz58vQLx+/Xrd9uhF8YLBLnOe41wZ4L/44gvDPtB+g5a6FGqO4XfdcsstIr2pqdKWmgOKJysl59tvv6UHHnhANy1sypQpBLlA2+CXswp+I61ML7VI75oYR4wnxhXjq+dq0sb9rbfeoj179lhqm54JjWtHq73aCsXxF08VEEIBGGur6ugQa26bth2in3Yfop93HKItKQdpy6/ptGXHftq2+zDt3J5OO3en0bZf0mnHzqO0KSWdtu85Spv3HKCf+bxtezJpC5vdW3cfoJ/4+x0pGWyGH6LNuw7TLzvT2RQ/SDtSj9C21AxKSeXv2eQ+7MinA5kusWTY2PGXCSCOv3gKXcymtFVBkNWDJijzITaF4xlOZIA0Et8llnrTS/3Ri+Jp1wdwjfpABhWZjwkPY7i/AWlLVh8Sq2Mbi1CEfOi9JGXysmjRIpFSZtZvixcv1pW7J598UnouXoCPPfaYqYUU2ka8cKFAmLXr9ddf121XtH5OW6GYwDAEhFAAxiqe6FzACz9k5nCKjTCJubDmmMepNjCPs2Ays7mcyTNV8B18gfhemM4N2+wG0xhmtDCTteMeTu1BPU7xyczxBs5Bycb13XSAfYpYQ3HMuEkCiBqozTrayvdGgxE8uNobGW/uaDUemdZhFZJ6EW4zkw3RxnDdB3o+HUANYLba1tB6dqctxRIUAR6zl7Ss3wEgmWa/ZcsWw3H79NNPpRbB0qVLIx5zK/5BpLIZ/TYj2bXyfNsKxbHjJ9PohIkCRAkXTuZAC+cpFlTTYWc+T+3jfEJnMTnYFM51u9kEZl9jfhEvROuhQvYTZnMeopN9iDnuEirI58gzm8lOF6LQfspn36Pby6k5fG6hj01wl5vcRcXk5vMLyjgaXczXcvopw+WiDGcBFbAZneYopGvmLaYLxl4q2gJQA9pWOsWsDnwWZv7B0MHCW1ybzRJOwradqT96Ee4FCxYYChY0Sb2+kGkkoWYZHtrrr78+qocDfWln2pIVKFoFOK6l10fNZT7LXDlWfwNk2ShX1ijAgmvLfHerV6+OesxxDzOfpdFzGE3AxVYojk6YJCCEAjCW8+yVozyP+V+bUmnzzym0acs+Wrd9PyX/kkobtqTRj1tT6Ef+vG7bPtq4ZT9t+vlX2vjLfvphy15au203rd3AZdMu+u6n7fTZxhT6fNM2+nTjXvp2fQp9vS6F1ibvoO+SU+mbLbtpXXIK/Wv7Ptq0NZX2H86itPRCunruzTRydKJoC2ANMJoBz+r30Q76zJkzCf4Ts4jz3XffbYtwaf7GUEE28hehvp7PyChXDfXR1tD+g4ll9eE0qwcfktXxkdWLFSjKgGXWl3qpNXqyaARdme8cfW/kO8TLTfNza/5lHDNqr55MBY+t0QsXJn+kshItFB8JvjFgOOKCRBrFIBo1JpGn3JVxoKSEDqbnUV6Oj9JzPJTOZnIGbx1ZHE3O5NksbOZm8QwXmNAO3uaxCYwZLA5ErLlufm4xB1TcHEDhQEwh5yTyuYhOZ7rKKIc1z9wc1jLZHM9nMzqLF5XI5pkw+ZzPuPeIU6yfOOKCCQLSo8ZcwmCcFHFH6XWwHQ88nN9ff/21YTBEppFCmBB4Cfa54bPsnFCTxyzgAvMp+LfLfnOoGQatUdaWq6++mtatW3f8xYAoPYIEsgf6m2++iXoMYwGKGDcZTCBXwbIB6wTak2w89AJ9c+bM0R0PsxeU0RjqaXCQGy3wiCAi6kBOIXtmSoOR6wC/82RB8YQbQysDhFCGjbyIQcdT8zhxO5dN5ax8noaXz6vYuNmPyKaukz/neZGqw3XYLHbytL18XkEnz+PhJG1OxHaVsuntZxhylNlTyiYxw5BBCNO7wFNO2RyxRpJ3vh/HK8V1CzgSjUj1QYeT9mUVisVl0Q4AUYNjpB1ldB6ABgEM980cWh9+SqPIHYQDjnSYs5jOpC04YWTyGEXljPw0soBLqMM7dN6r9jv0nNsyExL1jQQekW+j/rQjyT0WoCj7DQCCkYsGkVmjvg3VrjA+RnUBI9mzZHQeQI62R+tn1+4tk7GNGzdGBMZoNcUTbjpcwPBCAaKBQ8bQ/z70NO1My6S9qVm082AG7d6XRTv2O+iX1Ezayfu/HHDQrv2ZtOMgJ3bv4+gzJ3bv5ujx7sM5tOtAFqUguZvnTafxnOgjHE0+yiBN57nODi5H80rYV+mnI+xXPMha5iHWOg8f9dK+TCelsfb57sffCR/icG4LgDh81MViazcUteshoIKUg3B9jcHCE02eIoQMwoY2yACt96aWBVyCNQJZPb00CKOopZkTXWaim5ltVsY3FqAoy5WFyWvUD0b5fZrMBLtXZONt5rMzenkGy6amHcLXjhczNNtwYSkLekb6PNkKxaEjLqTBw8fRkOHjCfsDBo1m0/USGjN+Eo29EMGXyzgSfDknVHPKTiLnMl4yjWeaYBreVbxgQ2A1m6nTeYkvXqw2iZf5ms7rHyZdFVjJWyz/1bA0GeYyY0rhhIlIFp/K1+PoMl933EWTxT3Gchki2jFOwBCQRnsAbSsPTTR18HYFIDHIiECHk4KCoIeVe+MeeAvCJwnNceLEiZY1VSNhNgq4BM+0MdIyUEfP6R5uiohVbTva5NxYgKLshWO1H/XqBUdto4GilQwNo3bOmzdPvOCtPAuysbR6jdD72ArFwcMTaNCwBBo8LABGQGngkLF87N+gBKRQYGrDrNWCMiI6zFFipM4ghUZLAsd2XENKjRZFFoETLpqvENcS8GPwDR0RuO8Q3gKE2Abawp9Zi7XS0XbX2bx5s/CTWAGkkcoP/xxAG62pbgRFWcBF8xUaPYhGid7RPJyyc80ikmbjZwWKZtcw+76po89685Dt6O9gkMj6yUxTRP9EGxnHknxmPsVTHooDh46lAUNG08ChY2gQ7w9mQB4HUgOkoLUNH4USgKNm1mq+SKOtrJ6mDeLamlaI+0JrRRsA6kHDuD382UCYfzYTcu17OKPhDNZ8e9qMFA14svwo+HlkznEIdejbDUIR6XqNeg+JkTDLAi4w1WT5akbJ6nY8pHrXUFBME5kBTdG/dkIRMmUW3DH7DWa+y1MNio1A0n/waOo3aBT1x99+1uDIMBLaIwDFpd/ACyh+wCiK523/QWP4b0QHCjTKgUMYXkMBsvEN28B+AHBcGo4PGpog6g8YjMLn8/7wUQG/IbRBFGiIuN9AbgfaorXHKvyM6plFnI1y+7TrPf7441JhDoWiFTMJ2iMgDXMa8JK9oWVveKOAC8BvlP4hM/mbynxWUEwjK3JhBhy974PlLxrzOfj5QXaENj01EktHNkPsVINiI60rfuBIhl1DYTgGA3IAB16gSfYfMJjat+9I7dp3oPYd4qhjx07UMa4TxcV1prhOXHiLz4ES+CyON3x3wvcN5+Jabdt3oj+1i6M2f+pArdu0o3Nbt6XuvfqLNmgF0I4WiogCy4RNlgiLN6fZGz44ZQZmq+xeRvODw40+a30iewiMHOeyeaayB9co2h7t+Fg5PxbMZ1mgxY4IPfrRLijqjYmWUfHoo4+a+sSRE2w0rrLnMdJZLbb6FPv2H0F9+g+nvgNGHIejBqS+A0bSWWefQwsX3kybNm2kzZs30TqepoO0kuTkDbRhw0beXy/KVtZ2kpPXUzIvZrB+faAOtig4voH/XsWGDckcbNjAE9s304IFi1iLHEvn9x1CvfsNpfPjh4jSuk0HOvuc84Tm2pfb1W/gqKihaGU2C0xpaG3BaRHIx7My7Sk4iCATfKOVhvX+fkYwWM18QbIZLqGANgqwWEmXkKXkWAFbNHViAYqRpuSE229GL2Wzec/h3kfmg5XJ7KmWkrMi9If36TeMescPDRTeB4jiGwCJz2eedQ59+tln9P333zMUN9Mtt95OcV37CJidz+f06jtYAPWNN94kUB4qN7QlFOwjxK5tkR+IRF5Eetd88KFIBYpn6AVrhXFdevE9WwtAB9ozImoo2uFANhK00Ox9mRkMIKEvtDGwujyZGRRlAZfQdpstQ2+0QrJ2HS15W/sNeIngZSILSNnxMMYCFM2S7rXkbS1QoaVsycxXvYRso+Rt2fL/uCc0QcgnxhM+eGRiIEvCKOlbloYlsyqMFAfZgiZmwLZVUwTcevUZLCCHLeAIUAKOOHbmmWfTRx99zCBbK1TzJUvvoB69Bx8HWTybujCzX33tdTHL4zMGKMxJbFEAx88//1zsY4vy1Vdfsr/rPfY7JhzXUqGtAsZxnXsyFM8VbRBaZPywUCiuN+sgve/NZmpE4ssB5EJ9ZWbrNkZyHzMomj1swfe0shqQnb8BQapo03EwnrEARfyOaNJe9LR+PV+t0fjJlg0zm5qK4Ale4tqzBSsK016N5Fm2zJmRq8hsxo3subcVij16D2I/3gDqcf5A6sn7GiABR+y3YijCBwDgwRSGpti1Z/+Auc0FW5i6L7/8igDgJ598IqCIAgBq+xoosUW9d955lwMzY6h334CGCq0TIOzYAEUAMdCeIbZoiujQaOc+hwqAnt/EzKfYFFDEb5PNcNHuGU5OpR0LQsh8teG+2GIFinZaLUY5fbL51UbpMk29iEnweBsF86JZU9FWKHbvNZC6MeRQQuHYnUHZ6syzGGDvCMBBy7h58W3UtUd/ATJADCV+4Aha9fwL4m3+4Ycfsmb5kYAjPgOooeWjjz6k11izHMAwDdZSAcKOnXpSK9YUAUTRHt6G+wDJ6tuxpBcedpl5EG6UEdoUXjpGwLTihDdbUgzXhplttS9hFkcSddR+g9nyVlbbodWLJSgCTNEsy4Y+lsmfbAaMLJBhx7OB3yXLU0ROr5GcR5OhYCsUu/boR126xzPo+okSDEfAr2Wrs+if//ynANzatWtpwaIl1Klb34BPscHk7tt/GD377HMMxA8EQFHwtnrvvfeO7+PY22+/LfwVOP7SSy9Tf/YbahoqIIiiQRFA7NojXrQn3AfIrD4ANH369IhyxrDI54YNG6RtQjqDlQANhAP5jACQbGVsqxqeLOCCt7NZUm1ov+F3mC32oCfg8DvC/2w2DuF8H0tQxO+ONB8QLyo8h2Z9Z2QOy6LCuGakCyPjJQiomslYJGliZr8V39sKxS4MuE5de1Pnbn0a4AhA9heABCxbtjpTLBUOqH3yycd0/Y0LRaBFM7UBNZjaK595VmgiAB8gqhVAEPvY4jsUdMzq1S+x33KYgB6ugVQcgLB9XHfWTs9p8CcOFfex0imR1NFmrWhLrofOgdb+TADmeSKVJpw1FdEeBJRwbuiUPuQQIq0h9M8OyPw6VnyBsoCLWS6mrP+Cl6bX0x7x+8z+lEIk4xN8TqxBUfttePGsWbNGyIne0l14mSFwAnmBPFntRyM3jhW/nbY8GO6Je+uNufZsIHiD9ltdad1o4ZBwrBi9PrAVip26nM/BjV4Ux1vAsRMDrzODskt3wLIPtWh5Jr344osBbZHN4nk3LKAOnXoJgGkF4HryqRXHgYgZJG+88QabyK8JmACq2KLgGL6HZtmbNc3AvQDieLEFFFu2Ovu4JgpgWhUEVS+yP4Op+i02+80ov9aOwFekMqPnT7Tjz5zaCkWYq+3jegiztaMGxy6AY2/+fD61aNFKqMWA4po179M1191AbTv0OMHkBhwfe+xxBuHrAnxooFYARIBQ2wooMjCf52vC/Na0VGiq2G/XoRtriueK76BFNqWmGOnAqvNiEyKxNq5G2nW0Wlmk/WQUzLFjUoCtUOwQ11OAqH3H7tSB4YiiARKwPKNFS3qGTWPADmCcOesahmL349okYNatZz96+OHlAoQAKPwWKC+99JLY4hgKNE58xrWee24VB1ngQwxoqVpp16GrgCI0RBzryXUiHQR1noLXb10G9IJ+Vkzopug3PdMZ2qyZH9JKW2yFIoDYtn0XAcZ2DEbAUQMkjp1xRktauXKlAN5bbwWg2KZdl4C5zQXaJcD44EMPMwRXM+yeY9P4WbF95plnxL5WVq1aRc8//7yA5dMrnxF+RHEv1lI7dAoAuS3fE+ZzVzalcQ+Y1FY6RdVRAFQy0FgGENHVWy80nD+Xake/Gs0qi3T9xNA22QXFAlwYQGzTFnOQO3Ppwp+7MiBRuonP/3lGC3riiScIQHuNNbxpSVfRGa3a0LnnxYlydusOfH4X/utk9wv4waEPGKJgHwVQ1QqOA4z/eOJJ4UfUtFTAUbtni5ZnC1jCr9mOtVI7BkVdQ0HztyoDUFBCswSiCbxF0o9663qaraYTzn0iguKyZct04dK6TftMQLF1m4503p/iuHRiyHUWBfvQFJc/8iitWLFCgO1/7vs/emDZw6wZPkIPPfwob5fT8uWP0eOP/4OeeuopUVAXW8AUBdO8ULTvVq58mh7ha3ZhDRP30UAMCKO0aHmWaIsG7HA6R9VV8FMycKIM6P11RgQ8mivggvuHLk5i10wnbayR5hcK/t+F/gutsGTJEl0o/v73/3Hbuee1rQGEAChoie07dmNTtju1Pq99zR/+8McyBl49tEBADdvVq1+kF4Wf8PmAr5ALgAkYakAMhiOO4c2kbfHmAkQ7c2AlAEVoq7h3Nzab+4iUHAFoBjWOKyFXoFMyEJ0M6C06Es0MknDGQy9VLNLVcIzuC0s2bCgmJCQouLC7IJzBVHVVfykZOD1kYO7cueZQnDx5cqNKoKka5NNjkNU4qXFSMmBNBoymNTYyn3FAbwpWc/kR1IBaG1DVT6qflAxEJwN6CqAuEHEQJnMoGJOSksjhcJxMjTFZCUF0QqD6T/WfkoGADNxxxx26axgYQtFIWwQsMdVOdax6uJQMKBk4HWUgNTWV9DREKIFSIGpfGi3VM3v2bJF/iGW+gqfmqf1/T1NUfaH6QsnAqSEDSPTGWMiWXQMoLUFRz4yOZLFTdc7IiJYbU/2m+k3JQPPIgCUgapWgFaqBaZ6BUf2s+lnJQPPKQGJiojUNUY+aarCad7BUf6v+VjLQtDIQlnYoq6wGqmkHSvWv6l8lA00rA8iksQ2I6kKqB1QPqB5QPaB6QPWA6gHVA7/BHvh/Qk9f8O+Vj80AAAAASUVORK5CYII=",
n=1,b=0,l=1,s=1,g=function(){},f=function(){},d=function(){},p=function(){},q=function(){},v=function(){},x=function(){};this.Center=function(a){if("none"!==b.style.display){var f=getElementPosition(a);b.style.left="0px";b.style.top="0px";var k=getElementPosition(b);b.style.left=(a.width-b.width)/2+(f.x-k.x)+"px";b.style.top=(a.height-b.height)/2+(f.y-k.y)+"px"}};this.Hide=function(){b.style.display="none"};this.__defineGetter__("Image",function(){return b});g=function(){b.onerror=f;b.src=n?c:"img/SaveFilesDown.png";
a.ongraphicchanged()};f=function(){n=!0;b.onerror="";b.src=c;a.ongraphicchanged()};d=function(){a.ongraphicchanged()};p=function(){b.onerror=q;b.src=l?h:"img/SaveFilesOver.png";a.ongraphicchanged()};q=function(){l=!0;b.onerror="";b.src=h;a.ongraphicchanged()};v=function(){b.onerror=x;b.src=s?m:"img/SaveFilesUp.png";a.ongraphicchanged()};x=function(){s=!0;b.onerror="";b.src=m;a.ongraphicchanged()};this.Show=function(){b.style.display=""};b=document.createElement("img");b.onerror=x;b.onload=d;b.onmouseover=
p;b.onmouseout=v;b.onmousedown=g;b.onmouseup=v;b.src=m;b.style.cursor="pointer";b.style.position="absolute";b.style.left="0px";b.style.top="0px";a.Hide()},BlinkState=0,TBlinkState=function(){this.Show=0;this.Hide=1},BlinkState=new TBlinkState,TCursor=function(a,c,h){this.onhide=function(){};this.onshow=function(){};var m=this,n,b=0,l,s=0,g,f,d,p,q,v,x=function(){},w=function(a){},u=function(){};this.__defineSetter__("BlinkRate",function(a){d.delay=a});this.__defineSetter__("Colour",function(a){l=
a;x()});x=function(){s&&(b.width=f.x,b.height=f.y,s.fillStyle=l,s.fillRect(0,f.y-.2*f.y,f.x,.2*f.y))};w=function(a){n=n===BlinkState.Hide?BlinkState.Show:BlinkState.Hide;b.style.opacity=p?n===BlinkState.Hide?0:1:0;switch(n){case BlinkState.Hide:m.onhide();break;case BlinkState.Show:m.onshow()}};this.__defineGetter__("Position",function(){return g});this.__defineSetter__("Position",function(a){g=a;u()});this.__defineSetter__("Size",function(a){f=a;x();u()});u=function(){b&&p&&(b.style.left=(g.x-1)*
f.x+v.x+"px",b.style.top=(g.y-1)*f.y+v.y+"px")};this.__defineSetter__("Visible",function(a){(p=a)&&u()});this.__defineSetter__("WindowOffset",function(a){if(a.x!==q.x||a.y!==q.y){q=a;b.style.left="0px";b.style.top="0px";var f=getElementPosition(b);v.x=a.x-f.x;v.y=a.y-f.y;u()}});n=BlinkState.Hide;l=c;g=new Point(1,1);f=h;p=!0;q=new Point(0,0);v=new Point(0,0);b=document.createElement("canvas");b.getContext&&(b.style.position="absolute",s=b.getContext("2d"),a.appendChild(b),u(),x(),d=setInterval(w,
500))},CrtFonts=[];CrtFonts["437x9x16"]=PNGAsset+"iVBORw0KGgoAAAANSUhEUgAABIAAAAAQCAMAAABZX/Q4AAAAAXNSR0IArs4c6QAAAwBQTFRFAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZ3bsYwAAAAFiS0dEAIgFHUgAAAAJcEhZcwAADsIAAA7CARUoSoAAAAAHdElNRQfaCBcNNQrI8wn1AAAEZklEQVR42u2bjY6jMAyE4/d/6dOpJdieseMApUsVVreLCiU/tr+MHa61v3KISD9r60gm6vVP3j//f4m8Jw3ncDvpt7CZ37/t7iGX8CmJ4Qo3V1ovfTIz0sTHyD3Q5Pswn+Ble89TvU2+2qyE3SFzK4W+C3jf/mvoG9iE7lDQaG9ib+uwDVj0AEW3cJL9ZGDMGfRKH+pGoFebUcwsAC0AfQZA6ehmhk7u3W0ZX6HBN3Y/CcDRJB/qGx+hQ0vEhMrgVQQIMLbAn407OwoM8QZdEzbdyWwsBfRIAOkVyTpyhVUp0ITG8Cn6yWiitGNH3NLxMHyQeqA3JQsiQf5YPdPsHydzyHMkMga4qNEy4L0EjFHHdmqoZ7jRl/gD00EB1Ea2JDZYCuhHAGRFuANQaeEUgeVY4q+qAOt3j1UOs8pxABG4sOhmqc2NCm+fV28o8WSclY4Y2QRALQbQ4UanFFAWg01rq6WAfgZABwothjbW4jTVoEvtwHD6ZACgUQoGraYAahRSahTpiQxOSJIhfvrYiF+fBR0Tr24CwUEAJKF5CC4EOs8aVSmiFtrVGhC0pSzo1N9SQM8CEKyj6rHKj9WD3N0uDWEA4ssWzRNYq0R2J2yaKR2hpC8AiHQ8PkmEBlMc/oTSoYkDUDdl2hZ/Vtox8aFPAEKtiO7QjVtIjGWrPIGG3gfPMstdrRYVkB0D1h2Mzyu1pTpILl0FoF5/MyU4E8HNqQn/SXgPw4TT2y6PAckpUYozBSCNAhL2gWtp/4qEj3ma90Mu50nlKcgCw7gXUm+oAMhnhCUAFdQNjmASQKLKwFYxaO5UmDIHIL7BJUyDyASAmvFrMWami6/pEFayPqmAYB70PbhS3KCAhmttZRmeU0Bs5+RKBWSG58K8ACDHDliPzbLQuaMB5G/OtnczBRSWO7OkMpB9IwApKBQVDlvXBWMvU0B6FsExPwwgJ7IaWVSqAIqXB14J6irPWRdL4fUaEF8vUN0kCqhxU5L0GiPOaIfBJRQ+icypKKDksF4G3ci/mo4UAUST2Ia7GmRtCrYjMo9rTvhkCoilYMOT/KUCEtTQaeY4tgjNmDIFoIydcylYuwFAPAvWBDkIoHizvUUA6tP/wkpa4TutgJKiSVYMn1IjFU0US7NSKaqgdypVocr8BDn0hQCir8WhmZzjHgNQeRcs3FMepmCSbp5FG8Y8dIullIsB5GfzWgC5nUkva+WcAkqtPIoD9vrixe8BLQDdDyDJAZSHFAuZQdSiR4xqQGML+jd7jiXBrIqofB5LP1CKJyelXTB+wjBBNHqLEoC8qxL0ECpQFC6m6uYmChotvGxdsjfuvS0F9GgANZvPgq2Jz2NibJIg9Xf/FQX1dpGmYJ5ELBwO7YKlni5H30M4VRn82ltGR7t861v04Y7bUkCPB9CxKDnrfdd8v+QHp6Pnone2n8SfBx9LAT0UQFMv+5703PP/Cc2/wLdC7wtG+NsIWgroYQB6WPS0daxjKaAFoB8H0D+7ghJBjH2cdgAAAABJRU5ErkJggg==";
CrtFonts.ASCIIx9x16=PNGAsset+"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";
var TFont=function(){this.onchange=function(){};this.ANSI_COLOURS="#000000 #0000A8 #00A800 #00A8A8 #A80000 #A800A8 #A85400 #A8A8A8 #545454 #5454FC #54FC54 #54FCFC #FC5454 #FC54FC #FCFC54 #FCFCFC".split(" ");this.PETSCII_COLOURS="#000000 #FDFEFC #BE1A24 #30E6C6 #B41AE2 #1FD21E #211BAE #DFF60A #B84104 #6A3304 #FE4A57 #424540 #70746F #59FE59 #5F53FE #A4A7A2".split(" ");var a=this,c=0,h=[],m=0,n=0,b=0,l=0,s=0,g=0,f=0,d=0,p=function(){},q=function(){};this.__defineGetter__("CodePage",function(){return m});
this.GetChar=function(d,c){if(0<b||0>d||255<d||0>c.Attr||255<c.Attr)return 0;var l=d+"-"+c.Attr+"-"+c.Reverse;if(!h[l]){h[l]=n.getImageData(d*f.x,0,f.x,f.y);var g,k;0===m.indexOf("PETSCII")?(g=a.PETSCII_COLOURS[(c.Attr&240)>>4],k=a.PETSCII_COLOURS[c.Attr&15]):(g=a.ANSI_COLOURS[(c.Attr&240)>>4],k=a.ANSI_COLOURS[c.Attr&15]);if(c.Reverse){var p=k;k=g;g=p}var p=parseInt(g[1].toString()+g[2].toString(),16),t=parseInt(g[3].toString()+g[4].toString(),16);g=parseInt(g[5].toString()+g[6].toString(),16);var q=
parseInt(k[1].toString()+k[2].toString(),16),s=parseInt(k[3].toString()+k[4].toString(),16);k=parseInt(k[5].toString()+k[6].toString(),16);var A=0,z=0,D=0,E;for(E=0;E<h[l].data.length;E+=4)127<h[l].data[E]?(A=q,z=s,D=k):(A=p,z=t,D=g),h[l].data[E]=A,h[l].data[E+1]=z,h[l].data[E+2]=D,h[l].data[E+3]=255}return h[l]};this.__defineGetter__("Height",function(){return f.y});this.Load=function(f,c,h){void 0!==CrtFonts[f+"x"+c+"x"+h]?(a.ANSI_COLOURS[7]="#A8A8A8",a.ANSI_COLOURS[0]="#000000",b+=1,s=f,g=new Point(c,
h),isNaN(parseInt(f,10))?(0===f.indexOf("ATASCII")&&(a.ANSI_COLOURS[7]="#63B6E7",a.ANSI_COLOURS[0]="#005184"),l=new Image,l.onload=q,l.src=CrtFonts[s+"x"+g.x+"x"+g.y],d=0):(l=new Image,l.onload=p,l.src=CrtFonts["ASCIIx"+c+"x"+h])):trace("HtmlTerm Error: Font CP="+f+", Width="+c+", Height="+h+" does not exist")};p=function(){d=new Image;d.onload=q;d.src=CrtFonts[s+"x"+g.x+"x"+g.y]};q=function(){m=s;f=g;c.width=d?2*l.width:l.width;c.height=l.height;n.drawImage(l,0,0);d&&n.drawImage(d,l.width,0);h=[];
b-=1;a.onchange()};this.__defineGetter__("Size",function(){return f});this.__defineGetter__("Width",function(){return f.x});m=437;f=new Point(9,16);c=document.createElement("canvas");c.getContext&&(n=c.getContext("2d"),this.Load(m,f.x,f.y))},BorderStyle=0,TBorderStyle=function(){this.Single=0;this.Double=1;this.SingleH=2;this.SingleV=3;this.DoubleH=4;this.DoubleV=5},BorderStyle=new TBorderStyle,ContentAlignment=0,TContentAlignment=function(){this.BottomLeft=0;this.BottomCenter=1;this.BottomRight=
2;this.MiddleLeft=3;this.MiddleCenter=4;this.MiddleRight=5;this.TopLeft=6;this.TopCenter=7;this.TopRight=8;this.Left=9;this.Center=10;this.Right=11},ContentAlignment=new TContentAlignment,KeyPressEvent=function(a,c){this.altKey=a.altKey;this.charCode=a.charCode;this.ctrlKey=a.ctrlKey;this.keyCode=a.keyCode;this.keyString=c;this.shiftKey=a.shiftKey},ProgressBarStyle=0,TProgressBarStyle=function(){this.Blocks=254;this.Continuous=219;this.Marquee=0},ProgressBarStyle=new TProgressBarStyle,TCharInfo=function(a,
c,h,m,n){"undefined"===typeof h&&(h=!1);"undefined"===typeof m&&(m=!1);"undefined"===typeof n&&(n=!1);this.Ch=a;this.Attr=c;this.Blink=h;this.Underline=m;this.Reverse=n},Crt=function(){},TCrt=function(){this.BLACK=0;this.BLUE=1;this.GREEN=2;this.CYAN=3;this.RED=4;this.MAGENTA=5;this.BROWN=6;this.LIGHTGRAY=7;this.DARKGRAY=8;this.LIGHTBLUE=9;this.LIGHTGREEN=10;this.LIGHTCYAN=11;this.LIGHTRED=12;this.LIGHTMAGENTA=13;this.YELLOW=14;this.WHITE=15;this.BLINK=128;this.PETSCII_BLACK=0;this.PETSCII_WHITE=
1;this.PETSCII_RED=2;this.PETSCII_CYAN=3;this.PETSCII_PURPLE=4;this.PETSCII_GREEN=5;this.PETSCII_BLUE=6;this.PETSCII_YELLOW=7;this.PETSCII_ORANGE=8;this.PETSCII_BROWN=9;this.PETSCII_LIGHTRED=10;this.PETSCII_DARKGRAY=11;this.PETSCII_GRAY=12;this.PETSCII_LIGHTGREEN=13;this.PETSCII_LIGHTBLUE=14;this.PETSCII_LIGHTGRAY=15;var a=this,c,h,m,n,b,l,s,g,f,d,p,q,v,x,w,u,k,B,t,C,y,A,z,D=-1!==navigator.userAgent.toLowerCase().indexOf("chrome/7.0.517"),E=function(a){},F=function(a){},J=function(a){},K=function(a){},
G=function(a){},H=function(a){};Array.prototype.InitTwoDimensions=function(a,e){var b;for(b=0;b<=a;b++)this[b]=[e+1]};this.Init=function(b){h=c=!1;m=!0;l=n=!1;g=new TCharInfo(" ",a.LIGHTGRAY,!1,!1,!1);p=[5,7,8,9,10,13,14,17,18,19,20,28,29,30,31,129,141,142,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159];q=new TFont;q.onchange=K;v=!1;x=[];w=0;u=!1;k=new Point(80,25);t=-1;C=1E3;s=document.createElement("canvas");s.id="HtmlTermCanvas";s.innerHTML='Your browser does not support the HTML5 Canvas element!<br>The latest version of every major web browser supports this element, so please consider upgrading now:<ul><li><a href="http://www.mozilla.com/firefox/">Mozilla Firefox</a></li><li><a href="http://www.google.com/chrome">Google Chrome</a></li><li><a href="http://www.apple.com/safari/">Apple Safari</a></li><li><a href="http://www.opera.com/">Opera</a></li><li><a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home">MS Internet Explorer</a></li></ul>';
s.width=q.Width*k.x;s.height=q.Height*k.y;b.appendChild(s);if(!s.getContext)return trace("HtmlTerm Error: Canvas not supported"),!1;window.addEventListener("keydown",G,!1);window.addEventListener("keypress",H,!1);E(!0);d=new TCursor(b,q.ANSI_COLOURS[a.LIGHTGRAY],q.Size);d.onhide=F;d.onshow=J;A=0;z=k.x-1|k.y-1<<8;f=s.getContext("2d");f.font="12pt monospace";f.textBaseline="top";a.ClrScr();return!0};this.__defineGetter__("Atari",function(){return c});this.__defineSetter__("Atari",function(a){c=a});
this.Beep=function(){};this.__defineGetter__("bitmapData",function(){return(void 0).bitmapData});this.__defineGetter__("Blink",function(){return m});this.__defineSetter__("Blink",function(a){m=a});this.__defineGetter__("C64",function(){return l});this.__defineSetter__("C64",function(a){l=a});this.__defineGetter__("Canvas",function(){return s});this.ClrBol=function(){a.FastWrite(StringUtils.NewString(" ",a.WhereX()),a.WindMinX+1,a.WhereYA(),g)};this.ClrBos=function(){a.ScrollUpWindow(a.WhereY()-1);
a.ScrollDownWindow(a.WhereY()-1);a.ClrBol()};this.ClrEol=function(){a.FastWrite(StringUtils.NewString(" ",a.WindMaxX+1-a.WhereX()+1),a.WhereXA(),a.WhereYA(),g)};this.ClrEos=function(){a.ScrollDownWindow(a.WindRows-a.WhereY());a.ScrollUpWindow(a.WindRows-a.WhereY());a.ClrEol()};this.ClrLine=function(){a.FastWrite(StringUtils.NewString(" ",a.WindCols),a.WindMinX+1,a.WhereYA(),g)};this.ClrScr=function(){a.ScrollUpWindow(a.WindRows);a.GotoXY(1,1)};this.Conceal=function(){a.TextColor((a.TextAttr&240)>>
4)};this.__defineGetter__("Cursor",function(){return d});this.DelChar=function(r){void 0===r&&(r=1);var e;for(e=a.WhereXA();e<=a.WindMinX+a.WindCols-r;e++)a.FastWrite(b[a.WhereYA()][e+r].Ch,e,a.WhereYA(),b[a.WhereYA()][e+r]);for(e=a.WindMinX+a.WindCols+1-r;e<=a.WindMinX+a.WindCols;e++)a.FastWrite(" ",e,a.WhereYA(),g)};this.DelLine=function(b){void 0===b&&(b=1);a.ScrollUpCustom(a.WindMinX+1,a.WhereYA(),a.WindMaxX+1,a.WindMaxY+1,b,g)};this.EnterScrollBack=function(){if(!v){v=!0;var r,e,f;y=[];for(f=
0;f<B.length;f++){r=[];for(e=0;e<B[f].length;e++)r.push(new TCharInfo(B[f][e].Ch,B[f][e].Attr,B[f][e].Blink,B[f][e].Underline,B[f][e].Reverse));y.push(r)}for(f=1;f<=k.y;f++){r=[];for(e=1;e<=k.x;e++)r.push(new TCharInfo(b[f][e].Ch,b[f][e].Attr,b[f][e].Blink,b[f][e].Underline,b[f][e].Reverse));y.push(r)}t=y.length;a.ScrollUpCustom(1,1,k.x,k.y,1,new TCharInfo(" ",31,!1,!1,!1),!1);a.FastWrite("SCROLLBACK ("+(t-(k.y-1)+1)+"/"+(y.length-(k.y-1)+1)+"): Use Up/Down or PgUp/PgDn to navigate and Esc when done",
1,k.y,new TCharInfo(" ",31,!1,!1,!1),!1)}};this.FastWrite=function(a,e,d,c,l){void 0===l&&(l=!0);if(e<=k.x&&d<=k.y){var g;for(g=0;g<a.length;g++){var h=q.GetChar(a.charCodeAt(g),c);h&&(!v||v&&!l)&&f.putImageData(h,(e-1+g)*q.Width,(d-1)*q.Height);l&&(b[d][e+g].Ch=a.charAt(g),b[d][e+g].Attr=c.Attr,b[d][e+g].Blink=c.Blink,b[d][e+g].Underline=c.Underline,b[d][e+g].Reverse=c.Reverse);if(e+g>=k.x)break}}};this.FillScreen=function(b){b=StringUtils.NewString(b.charAt(0),a.ScreenCols);var e;for(e=1;e<=a.ScreenRows;e++)a.FastWrite(b,
1,e,g)};this.__defineGetter__("Font",function(){return q});this.GetCharInfo=function(){return g};this.GotoXY=function(b,e){1<=b&&1<=e&&b-1+a.WindMinX<=a.WindMaxX&&e-1+a.WindMinY<=a.WindMaxY&&(d.Position=new Point(b,e))};this.HideCursor=function(){d.Visible=!1};this.HighVideo=function(){a.TextAttr|=8};E=function(r){b=[];b.InitTwoDimensions(k.y,k.x);var e,f;for(f=1;f<=k.y;f++)for(e=1;e<=k.x;e++)b[f][e]=new TCharInfo(" ",a.LIGHTGRAY,!1,!1,!1);r&&(B=[])};this.InsChar=function(r){void 0===r&&(r=1);var e;
for(e=a.WindMinX+a.WindCols;e>=a.WhereXA()+r;e--)a.FastWrite(b[a.WhereYA()][e-r].Ch,e,a.WhereYA(),b[a.WhereYA()][e-r]);for(e=a.WhereXA();e<a.WhereXA()+r;e++)a.FastWrite(" ",e,a.WhereYA(),g)};this.InsLine=function(b){void 0===b&&(b=1);a.ScrollDownCustom(a.WindMinX+1,a.WhereYA(),a.WindMaxX+1,a.WindMaxY+1,b,g)};this.KeyPressed=function(){return 0<x.length};this.__defineSetter__("LocalEcho",function(a){u=a});this.LowVideo=function(){a.TextAttr&=247};this.NormVideo=function(){g.Attr=l?a.PETSCII_WHITE:
a.LIGHTGRAY;g.Blink=!1;g.Underline=!1;g.Reverse=!1};F=function(r){if(m){n=!0;var e;for(e=1;e<=k.y;e++)for(r=1;r<=k.x;r++)b[e][r].Blink&&" "!==b[e][r].Ch&&a.FastWrite(" ",r,e,b[e][r],!1)}D&&(Crt.Canvas.style.opacity=.999)};J=function(r){if(m||n){n=!1;var e;for(e=1;e<=k.y;e++)for(r=1;r<=k.x;r++)b[e][r].Blink&&" "!==b[e][r].Ch&&a.FastWrite(b[e][r].Ch,r,e,b[e][r],!1)}d.WindowOffset=getElementPosition(s);D&&(Crt.Canvas.style.opacity=1)};K=function(r){d.Size=q.Size;s.height=q.Height*k.y;s.width=q.Width*
k.x;var e;if(null!==b)for(e=1;e<=k.y;e++)for(r=1;r<=k.x;r++)a.FastWrite(b[e][r].Ch,r,e,b[e][r],!1)};G=function(r){if(!(r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement))if(v){var e,f,d,g;if(r.keyCode===Keyboard.DOWN){if(t<y.length)for(t+=1,a.ScrollUpCustom(1,1,k.x,k.y-1,1,new TCharInfo(" ",7,!1,!1,!1),!1),a.FastWrite("SCROLLBACK ("+(t-(k.y-1)+1)+"/"+(y.length-(k.y-1)+1)+"): Use Up/Down or PgUp/PgDn to navigate and Esc when done ",1,k.y,new TCharInfo(" ",31),!1),d=k.y-
1,g=t-1,f=Math.min(k.x,y[g].length),e=0;e<f;e++)a.FastWrite(y[g][e].Ch,e+1,d,y[g][e],!1)}else if(r.keyCode===Keyboard.ESCAPE){if(null!==b)for(f=1;f<=k.y;f++)for(e=1;e<=k.x;e++)a.FastWrite(b[f][e].Ch,e,f,b[f][e],!1);v=!1}else if(r.keyCode===Keyboard.PAGE_DOWN)for(e=0;e<k.y-1;e++)G(new KeyboardEvent("keydown",!0,!1,0,Keyboard.DOWN));else if(r.keyCode===Keyboard.PAGE_UP)for(e=0;e<k.y-1;e++)G(new KeyboardEvent("keydown",!0,!1,0,Keyboard.UP));else if(r.keyCode===Keyboard.UP&&t>k.y-1)for(t-=1,a.ScrollDownCustom(1,
1,k.x,k.y-1,1,new TCharInfo(" ",7,!1,!1),!1),a.FastWrite("SCROLLBACK ("+(t-(k.y-1)+1)+"/"+(y.length-(k.y-1)+1)+"): Use Up/Down or PgUp/PgDn to navigate and Esc when done ",1,k.y,new TCharInfo(" ",31),!1),d=1,g=t-(k.y-1),f=Math.min(k.x,y[g].length),e=0;e<f;e++)a.FastWrite(y[g][e].Ch,e+1,d,y[g][e],!1);r.preventDefault()}else{e="";if(c)if(r.ctrlKey)if(65<=r.keyCode&&90>=r.keyCode)switch(r.keyCode){case 72:e=String.fromCharCode(126);break;case 74:e=String.fromCharCode(13);break;case 77:e=String.fromCharCode(155);
break;default:e=String.fromCharCode(r.keyCode-64)}else{if(97<=r.keyCode&&122>=r.keyCode)switch(r.keyCode){case 104:e=String.fromCharCode(126);break;case 106:e=String.fromCharCode(13);break;case 109:e=String.fromCharCode(155);break;default:e=String.fromCharCode(r.keyCode-96)}}else switch(r.keyCode){case Keyboard.BACKSPACE:e="~";break;case Keyboard.DELETE:e="~";break;case Keyboard.DOWN:e="\u001d";break;case Keyboard.ENTER:e="\u009b";break;case Keyboard.LEFT:e="\u001e";break;case Keyboard.RIGHT:e="\u001f";
break;case Keyboard.SPACE:e=" ";break;case Keyboard.TAB:e="\u007f";break;case Keyboard.UP:e="\u001c"}else if(l)switch(r.keyCode){case Keyboard.BACKSPACE:e="\u0014";break;case Keyboard.DELETE:e="\u0014";break;case Keyboard.DOWN:e="\u0011";break;case Keyboard.ENTER:e="\r";break;case Keyboard.F1:e="\u0085";break;case Keyboard.F2:e="\u0089";break;case Keyboard.F3:e="\u0086";break;case Keyboard.F4:e="\u008a";break;case Keyboard.F5:e="\u0087";break;case Keyboard.F6:e="\u008b";break;case Keyboard.F7:e="\u0088";
break;case Keyboard.F8:e="\u008c";break;case Keyboard.HOME:e="\u0013";break;case Keyboard.INSERT:e="\u0094";break;case Keyboard.LEFT:e="\u009d";break;case Keyboard.RIGHT:e="\u001d";break;case Keyboard.SPACE:e=" ";break;case Keyboard.UP:e="\u0091"}else if(r.ctrlKey)65<=r.keyCode&&90>=r.keyCode?e=String.fromCharCode(r.keyCode-64):97<=r.keyCode&&122>=r.keyCode&&(e=String.fromCharCode(r.keyCode-96));else switch(r.keyCode){case Keyboard.BACKSPACE:e="\b";break;case Keyboard.DELETE:e="\u007f";break;case Keyboard.DOWN:e=
"\u001b[B";break;case Keyboard.END:e="\u001b[K";break;case Keyboard.ENTER:e="\r\n";break;case Keyboard.ESCAPE:e="\u001b";break;case Keyboard.F1:e="\u001bOP";break;case Keyboard.F2:e="\u001bOQ";break;case Keyboard.F3:e="\u001bOR";break;case Keyboard.F4:e="\u001bOS";break;case Keyboard.F5:e="\u001bOt";break;case Keyboard.F6:e="\u001b[17~";break;case Keyboard.F7:e="\u001b[18~";break;case Keyboard.F8:e="\u001b[19~";break;case Keyboard.F9:e="\u001b[20~";break;case Keyboard.F10:e="\u001b[21~";break;case Keyboard.F11:e=
"\u001b[23~";break;case Keyboard.F12:e="\u001b[24~";break;case Keyboard.HOME:e="\u001b[H";break;case Keyboard.INSERT:e="\u001b@";break;case Keyboard.LEFT:e="\u001b[D";break;case Keyboard.PAGE_DOWN:e="\u001b[U";break;case Keyboard.PAGE_UP:e="\u001b[V";break;case Keyboard.RIGHT:e="\u001b[C";break;case Keyboard.SPACE:e=" ";break;case Keyboard.TAB:e="\t";break;case Keyboard.UP:e="\u001b[A"}x.push(new KeyPressEvent(r,e));(e||r.ctrlKey)&&r.preventDefault()}};H=function(a){if(!(a.target instanceof HTMLInputElement||
a.target instanceof HTMLTextAreaElement||v)){var b="";if(!a.ctrlKey){var f=null!==a.charCode?a.charCode:a.which;c?33<=f&&122>=f&&(b=String.fromCharCode(f)):l?33<=f&&64>=f?b=String.fromCharCode(f):65<=f&&90>=f?b=String.fromCharCode(f).toLowerCase():91<=f&&95>=f?b=String.fromCharCode(f):97<=f&&122>=f&&(b=String.fromCharCode(f).toUpperCase()):33<=f&&126>=f&&(b=String.fromCharCode(f));x.push(new KeyPressEvent(a,b))}}};this.PushKeyDown=function(a,b,f,d,c){G({altKey:d,charCode:a,ctrlKey:f,keyCode:b,shiftKey:c,
preventDefault:function(){}})};this.PushKeyPress=function(a,b,f,d,c){H({altKey:d,charCode:a,ctrlKey:f,keyCode:b,shiftKey:c,preventDefault:function(){}})};this.ReadKey=function(){if(0===x.length)return null;var b=x.shift();u&&a.Write(b.keyString);return b};this.ReDraw=function(){var f,e;for(e=1;e<=k.y;e++)for(f=1;f<=k.x;f++)a.FastWrite(b[e][f].Ch,f,e,b[e][f],!1)};this.RestoreScreen=function(b,e,f,d,c){c=c-f+1;d=d-e+1;var k,l;for(k=0;k<c;k++)for(l=0;l<d;l++)trace("Restoring: "+b[k][l].Ch+" to "+e+":"+
f),a.FastWrite(b[k][l].Ch,l+e,k+f,b[k][l])};this.ReverseVideo=function(){a.TextAttr=(a.TextAttr&240)>>4|(a.TextAttr&15)<<4};this.SaveScreen=function(a,e,f,d){d=d-e+1;f=f-a+1;var c=[],k,l;for(k=0;k<d;k++)for(c[k]=[],l=0;l<f;l++)c[k][l]=new TCharInfo(b[k+e][l+a].Ch,b[k+e][l+a].Attr,b[k+e][l+a].Blink,b[k+e][l+a].Underline,b[k+e][l+a].Reverse);return c};this.__defineGetter__("ScreenCols",function(){return k.x});this.__defineGetter__("ScreenRows",function(){return k.y});this.ScrollDownCustom=function(a,
e,d,c,k,l,g){"undefined"===typeof g&&(g=!0);var h=c-e+1;k>h&&(k=h);var h=(a-1)*q.Width,p=(e-1)*q.Height,t=(d-a+1)*q.Width,I=(c-e+1-k)*q.Height;0<I&&(t=f.getImageData(h,p,t,I),h=(a-1)*q.Width,p=(e-1+k)*q.Height,f.putImageData(t,h,p));f.fillStyle=q.ANSI_COLOURS[(l.Attr&240)>>4];h=(a-1)*q.Width;p=(e-1)*q.Height;t=(d-a+1)*q.Width;I=k*q.Height;f.fillRect(h,p,t,I);if(g){h=g=0;for(h=c;h>k;h--)for(g=a;g<=d;g++)b[h][g].Ch=b[h-k][g].Ch,b[h][g].Attr=b[h-k][g].Attr,b[h][g].Blink=b[h-k][g].Blink,b[h][g].Underline=
b[h-k][g].Underline,b[h][g].Reverse=b[h-k][g].Reverse;for(h=e;h<=k;h++)for(g=a;g<=d;g++)b[h][g].Ch=l.Ch,b[h][g].Attr=l.Attr,b[h][g].Blink=l.Blink,b[h][g].Underline=l.Underline,b[h][g].Reverse=l.Reverse}};this.ScrollDownScreen=function(b){a.ScrollDownCustom(1,1,k.x,k.y,b,g)};this.ScrollDownWindow=function(b){a.ScrollDownCustom(a.WindMinX+1,a.WindMinY+1,a.WindMaxX+1,a.WindMaxY+1,b,g)};this.ScrollUpCustom=function(a,e,d,k,c,l,g){"undefined"===typeof g&&(g=!0);var h=k-e+1;c>h&&(c=h);if(!v||v&&!g){var h=
(a-1)*q.Width,p=(e-1+c)*q.Height,t=(d-a+1)*q.Width,I=(k-e+1-c)*q.Height;0<I&&(t=f.getImageData(h,p,t,I),h=(a-1)*q.Width,p=(e-1)*q.Height,f.putImageData(t,h,p));f.fillStyle=q.ANSI_COLOURS[(l.Attr&240)>>4];h=(a-1)*q.Width;p=(k-c)*q.Height;t=(d-a+1)*q.Width;I=c*q.Height;f.fillRect(h,p,t,I)}if(g){for(p=0;p<c;p++){g=[];for(h=a;h<=d;h++)g.push(new TCharInfo(b[p+e][h].Ch,b[p+e][h].Attr,b[p+e][h].Blink,b[p+e][h].Underline,b[p+e][h].Reverse));B.push(g)}for(g=B.length;g>C-2;)B.shift(),g-=1;for(p=e;p<=k-c;p++)for(h=
a;h<=d;h++)b[p][h].Ch=b[p+c][h].Ch,b[p][h].Attr=b[p+c][h].Attr,b[p][h].Blink=b[p+c][h].Blink,b[p][h].Underline=b[p+c][h].Underline,b[p][h].Reverse=b[p+c][h].Reverse;for(p=k;p>k-c;p--)for(h=a;h<=d;h++)b[p][h].Ch=l.Ch,b[p][h].Attr=l.Attr,b[p][h].Blink=l.Blink,b[p][h].Underline=l.Underline,b[p][h].Reverse=l.Reverse}};this.ScrollUpScreen=function(b){a.ScrollUpCustom(1,1,k.x,k.y,b,g)};this.ScrollUpWindow=function(b){a.ScrollUpCustom(a.WindMinX+1,a.WindMinY+1,a.WindMaxX+1,a.WindMaxY+1,b,g)};this.SetBlink=
function(a){g.Blink=a};this.SetBlinkRate=function(a){d.BlinkRate=a};this.SetCharInfo=function(a){g=new TCharInfo(a.Ch,a.Attr,a.Blink,a.Underline,a.Reverse)};this.SetFont=function(a,b,f){q.Load(a,b,f)};this.SetScreenSize=function(f,e){if(!v&&(f!==k.x||e!==k.y)){var d=0,c=0,g;if(null!==b)for(g=[],g.InitTwoDimensions(k.x,k.y),c=1;c<=k.y;c++)for(d=1;d<=k.x;d++)g[c][d]=new TCharInfo(b[c][d].Ch,b[c][d].Attr,b[c][d].Blink,b[c][d].Underline,b[c][d].Reverse);var l=new Point(k.x,k.y);k.x=f;k.y=e;A=0;z=k.x-
1|k.y-1<<8;E(!1);if(null!==g)for(c=1;c<=Math.min(k.y,l.y);c++)for(d=1;d<=Math.min(k.x,l.x);d++)a.FastWrite(g[c][d].Ch,d,c,g[c][d]);d=document.createEvent("Events");d.initEvent(a.SCREEN_SIZE_CHANGED,!0,!1);s.dispatchEvent(d)}};this.ShowCursor=function(){d.Visible=!0};this.__defineGetter__("TextAttr",function(){return g.Attr});this.__defineSetter__("TextAttr",function(a){g.Attr=a});this.TextBackground=function(b){a.TextAttr=a.TextAttr&15|(b&15)<<4};this.TextColor=function(b){a.TextAttr=a.TextAttr&240|
b&15};this.WhereX=function(){return d.Position.x};this.WhereXA=function(){return a.WhereX()+a.WindMinX};this.WhereY=function(){return d.Position.y};this.WhereYA=function(){return a.WhereY()+a.WindMinY};this.__defineGetter__("WindCols",function(){return a.WindMaxX-a.WindMinX+1});this.__defineGetter__("WindMax",function(){return z});this.__defineGetter__("WindMaxX",function(){return a.WindMax&255});this.__defineGetter__("WindMaxY",function(){return(a.WindMax&65280)>>8});this.__defineGetter__("WindMin",
function(){return A});this.__defineGetter__("WindMinX",function(){return a.WindMin&255});this.__defineGetter__("WindMinY",function(){return(a.WindMin&65280)>>8});this.Window=function(b,e,f,c){1<=b&&1<=e&&b<=f&&e<=c&&f<=k.x&&c<=k.y&&(A=b-1+(e-1<<8),z=f-1+(c-1<<8),d.WindowOffset=new Point(b-1,e-1),a.GotoXY(1,1))};this.__defineGetter__("WindRows",function(){return a.WindMaxY-a.WindMinY+1});this.Write=function(b){c?a.WriteATASCII(b):l?a.WritePETSCII(b):a.WriteASCII(b)};this.WriteASCII=function(b){void 0===
b&&(b="");var e=a.WhereX(),f=a.WhereY(),d="",c;for(c=0;c<b.length;c++){var k=!1;0===b.charCodeAt(c)?c+=0:7===b.charCodeAt(c)?a.Beep():8===b.charCodeAt(c)?(a.FastWrite(d,a.WhereXA(),a.WhereYA(),g),e+=d.length,1<e&&(e-=1),k=!0,d=""):9===b.charCodeAt(c)?(a.FastWrite(d,a.WhereXA(),a.WhereYA(),g),e+=d.length,d="",e===a.WindCols?(e=1,f+=1):(e+=8-e%8,e=Math.min(e,a.WindCols)),k=!0):10===b.charCodeAt(c)?(a.FastWrite(d,a.WhereXA(),a.WhereYA(),g),e+=d.length,f+=1,k=!0,d=""):12===b.charCodeAt(c)?(a.ClrScr(),
f=e=1,d=""):13===b.charCodeAt(c)?(a.FastWrite(d,a.WhereXA(),a.WhereYA(),g),e=1,k=!0,d=""):0!==b.charCodeAt(c)&&(d+=String.fromCharCode(b.charCodeAt(c)&255),e+d.length>a.WindCols&&(a.FastWrite(d,a.WhereXA(),a.WhereYA(),g),d="",e=1,f+=1,k=!0));f>a.WindRows&&(f=a.WindRows,a.ScrollUpWindow(1),k=!0);k&&a.GotoXY(e,f)}0<d.length&&(a.FastWrite(d,a.WhereXA(),a.WhereYA(),g),e+=d.length,a.GotoXY(e,f))};this.WriteATASCII=function(b){void 0===b&&(b="");var e=a.WhereX(),f=a.WhereY(),d="",c;for(c=0;c<b.length;c++){var k=
!1;0===b.charCodeAt(c)&&(c+=0);27!==b.charCodeAt(c)||h?28!==b.charCodeAt(c)||h?29!==b.charCodeAt(c)||h?30!==b.charCodeAt(c)||h?31!==b.charCodeAt(c)||h?125!==b.charCodeAt(c)||h?126!==b.charCodeAt(c)||h?127!==b.charCodeAt(c)||h?155!==b.charCodeAt(c)||h?156!==b.charCodeAt(c)||h?157!==b.charCodeAt(c)||h?253!==b.charCodeAt(c)||h?254!==b.charCodeAt(c)||h?255!==b.charCodeAt(c)||h?(d=0===b.charCodeAt(c)&&13===w?d+"":d+String.fromCharCode(b.charCodeAt(c)&255),h=!1,w=b.charCodeAt(c),e+d.length>a.WindCols&&
(a.FastWrite(d,a.WhereXA(),a.WhereYA(),g),d="",e=1,f+=1,k=!0)):(a.FastWrite(d,a.WhereXA(),a.WhereYA(),g),e+=d.length,d="",a.GotoXY(e,f),a.InsChar()):(a.FastWrite(d,a.WhereXA(),a.WhereYA(),g),e+=d.length,d="",a.GotoXY(e,f),a.DelChar()):a.Beep():(a.FastWrite(d,a.WhereXA(),a.WhereYA(),g),e=1,d="",a.GotoXY(e,f),a.InsLine()):(a.FastWrite(d,a.WhereXA(),a.WhereYA(),g),e=1,d="",a.GotoXY(e,f),a.DelLine()):(a.FastWrite(d,a.WhereXA(),a.WhereYA(),g),e=1,f+=1,k=!0,d=""):(a.FastWrite(d,a.WhereXA(),a.WhereYA(),
g),e+=d.length,d="",e===a.WindCols?(e=1,f+=1):e+=8-e%8,k=!0):(a.FastWrite(d,a.WhereXA(),a.WhereYA(),g),e+=d.length,d="",k=!0,1<e&&(e-=1,a.FastWrite(" ",e,a.WhereYA(),g))):(a.ClrScr(),f=e=1,d=""):(a.FastWrite(d,a.WhereXA(),a.WhereYA(),g),e+=d.length,e=e<a.WindCols?e+1:1,k=!0,d=""):(a.FastWrite(d,a.WhereXA(),a.WhereYA(),g),e+=d.length,e=1<e?e-1:a.WindCols,k=!0,d=""):(a.FastWrite(d,a.WhereXA(),a.WhereYA(),g),e+=d.length,f=f<a.WindRows?f+1:1,k=!0,d=""):(a.FastWrite(d,a.WhereXA(),a.WhereYA(),g),e+=d.length,
f=1<f?f-1:a.WindRows,k=!0,d=""):h=!0;f>a.WindRows&&(f=a.WindRows,a.ScrollUpWindow(1),k=!0);k&&a.GotoXY(e,f)}0<d.length&&(a.FastWrite(d,a.WhereXA(),a.WhereYA(),g),e+=d.length,a.GotoXY(e,f))};this.WritePETSCII=function(b){void 0===b&&(b="");var e=a.WhereX(),f=a.WhereY(),d="",c;for(c=0;c<b.length;c++){var k=!1;""!==d&&-1!==p.indexOf(b.charCodeAt(c))&&(a.FastWrite(d,a.WhereXA(),a.WhereYA(),g),e+=d.length,k=!0,d="");if(0===b.charCodeAt(c))c+=0;else if(5===b.charCodeAt(c))a.TextColor(a.PETSCII_WHITE);else if(7===
b.charCodeAt(c))a.Beep();else if(8===b.charCodeAt(c))trace("PETSCII 0x08");else if(9===b.charCodeAt(c))trace("PETSCII 0x09");else if(10===b.charCodeAt(c))c+=0;else if(13===b.charCodeAt(c)||141===b.charCodeAt(c))e=1,f+=1,g.Reverse=!1,k=!0;else if(14===b.charCodeAt(c))a.SetFont("PETSCII-Lower",16,16);else if(17===b.charCodeAt(c))f+=1,k=!0;else if(18===b.charCodeAt(c))g.Reverse=!0;else if(19===b.charCodeAt(c))f=e=1,k=!0;else if(20===b.charCodeAt(c)){if(1<e||1<f)1===e?(e=a.WindCols,f-=1):e-=1,a.GotoXY(e,
f),a.DelChar(1)}else if(28===b.charCodeAt(c))a.TextColor(a.PETSCII_RED);else if(29===b.charCodeAt(c))e===a.WindCols?(e=1,f+=1):e+=1,k=!0;else if(30===b.charCodeAt(c))a.TextColor(a.PETSCII_GREEN);else if(31===b.charCodeAt(c))a.TextColor(a.PETSCII_BLUE);else if(129===b.charCodeAt(c))a.TextColor(a.PETSCII_ORANGE);else if(142===b.charCodeAt(c))a.SetFont("PETSCII-Upper",16,16);else if(144===b.charCodeAt(c))a.TextColor(a.PETSCII_BLACK);else if(145===b.charCodeAt(c))1<f&&(f-=1,k=!0);else if(146===b.charCodeAt(c))g.Reverse=
!1;else if(147===b.charCodeAt(c))a.ClrScr(),f=e=1;else if(148===b.charCodeAt(c))a.GotoXY(e,f),a.InsChar(1);else if(149===b.charCodeAt(c))a.TextColor(a.PETSCII_BROWN);else if(150===b.charCodeAt(c))a.TextColor(a.PETSCII_LIGHTRED);else if(151===b.charCodeAt(c))a.TextColor(a.PETSCII_DARKGRAY);else if(152===b.charCodeAt(c))a.TextColor(a.PETSCII_GRAY);else if(153===b.charCodeAt(c))a.TextColor(a.PETSCII_LIGHTGREEN);else if(154===b.charCodeAt(c))a.TextColor(a.PETSCII_LIGHTBLUE);else if(155===b.charCodeAt(c))a.TextColor(a.PETSCII_LIGHTGRAY);
else if(156===b.charCodeAt(c))a.TextColor(a.PETSCII_PURPLE);else if(157===b.charCodeAt(c)){if(1<e||1<f)1===e?(e=a.WindCols,f-=1):e-=1,k=!0}else 158===b.charCodeAt(c)?a.TextColor(a.PETSCII_YELLOW):159===b.charCodeAt(c)?a.TextColor(a.PETSCII_CYAN):0!==b.charCodeAt(c)&&(d+=String.fromCharCode(b.charCodeAt(c)&255),e+d.length>a.WindCols&&(a.FastWrite(d,a.WhereXA(),a.WhereYA(),g),d="",e=1,f+=1,k=!0));f>a.WindRows&&(f=a.WindRows,a.ScrollUpWindow(1),k=!0);k&&a.GotoXY(e,f)}0<d.length&&(a.FastWrite(d,a.WhereXA(),
a.WhereYA(),g),e+=d.length,a.GotoXY(e,f))};this.WriteLn=function(b){void 0===b&&(b="");a.Write(b+"\r\n")}},Crt=new TCrt,TCrtControl=function(a,c,h,m,n){var b=this,l=Crt.BLACK,s=null,g=[],f=Crt.LIGHTGRAY,d,p,q=null,v,x,w=function(){},u=function(){};this.AddControl=function(a){g.push(a)};this.__defineGetter__("BackColour",function(){return l});this.__defineSetter__("BackColour",function(a){a!==l&&(l=a,b.Paint(!0))});this.__defineGetter__("ForeColour",function(){return f});this.__defineSetter__("ForeColour",
function(a){a!==f&&(f=a,b.Paint(!0))});this.__defineGetter__("Height",function(){return d});this.__defineSetter__("Height",function(a){a!==d&&(w(),d=a,u(),b.Paint(!0))});this.Hide=function(){w()};this.__defineGetter__("Left",function(){return p});this.__defineSetter__("Left",function(a){if(a!==p)for(w(),p=a,u(),b.Paint(!0),a=0;a<g.length;a++)g[a].Paint(!0)});this.__defineGetter__("Parent",function(){return q});this.__defineSetter__("Parent",function(a){w();q=a;u();b.Paint(!0)});w=function(){for(var a=
p,b=v,f=q;f;)a+=f.Left,b+=f.Top,f=f.FParent;Crt.RestoreScreen(s,a,b,a+x-1,b+d-1)};u=function(){for(var a=p,b=v,f=q;f;)a+=f.Left,b+=f.Top,f=f.FParent;s=Crt.SaveScreen(a,b,a+x-1,b+d-1)};this.__defineGetter__("ScreenLeft",function(){return p+(null===q?0:q.Left)});this.__defineGetter__("ScreenTop",function(){return v+(null===q?0:q.Top)});this.Show=function(){b.Paint(!0);var a;for(a=0;a<g.length;a++)g[a].Paint(!0)};this.__defineGetter__("Top",function(){return v});this.__defineSetter__("Top",function(a){if(a!==
v)for(w(),v=a,u(),b.Paint(!0),a=0;a<g.length;a++)g[a].Paint(!0)});this.__defineGetter__("Width",function(){return x});this.__defineSetter__("Width",function(a){a!==x&&(w(),x=a,u(),b.Paint(!0))});q=a;p=c;v=h;x=m;d=n;u();null!==q&&a.AddControl(this)},TCrtControlSurrogate=function(){};TCrtControlSurrogate.prototype=TCrtControl.prototype;TCrtControl.prototype.Paint=function(a){};
var TCrtLabel=function(a,c,h,m,n,b,l,s){var g=this,f="",d;this.PaintCrtLabel=function(a){switch(d){case ContentAlignment.Center:if(f.length>=g.Width)Crt.FastWrite(f.substring(0,g.Width),g.ScreenLeft,g.ScreenTop,new TCharInfo(" ",g.ForeColour+(g.BackColour<<4)));else{a=0;var b="";for(a=0;a<Math.floor((g.Width-f.length)/2);a++)b+=" ";var c="";for(a=0;a<g.Width-f.length-b.length;a++)c+=" ";Crt.FastWrite(b+f+c,g.ScreenLeft,g.ScreenTop,new TCharInfo(" ",g.ForeColour+(g.BackColour<<4)))}break;case ContentAlignment.Left:Crt.FastWrite(StringUtils.PadRight(f,
" ",g.Width),g.ScreenLeft,g.ScreenTop,new TCharInfo(" ",g.ForeColour+(g.BackColour<<4)));break;case ContentAlignment.Right:Crt.FastWrite(StringUtils.PadLeft(f," ",g.Width),g.ScreenLeft,g.ScreenTop,new TCharInfo(" ",g.ForeColour+(g.BackColour<<4)))}};this.__defineGetter__("Text",function(){return f});this.__defineSetter__("Text",function(a){f=a;g.Paint(!0)});this.__defineGetter__("TextAlign",function(){return d});this.__defineSetter__("TextAlign",function(a){a!==d&&(d=a,g.Paint(!0))});TCrtControl.call(this,
a,c,h,m,1);f=n;d=b;g.ForeColour=l;g.BackColour=s;g.Paint(!0)};TCrtLabel.prototype=new TCrtControlSurrogate;TCrtLabel.prototype.constructor=TCrtLabel;TCrtLabel.prototype.Paint=function(a){this.PaintCrtLabel()};
var TCrtPanel=function(a,c,h,m,n,b,l,s,g,f){var d=this,p,q="",v;this.__defineGetter__("Border",function(){return p});this.__defineSetter__("Border",function(a){a!==p&&(p=a,d.Paint(!0))});this.PaintCrtPanel=function(a){var b,f,c,g,l,h;switch(p){case BorderStyle.Single:b=String.fromCharCode(218);f=String.fromCharCode(191);c=String.fromCharCode(192);g=String.fromCharCode(217);l=String.fromCharCode(196);h=String.fromCharCode(179);break;case BorderStyle.Double:b=String.fromCharCode(201);f=String.fromCharCode(187);
c=String.fromCharCode(200);g=String.fromCharCode(188);l=String.fromCharCode(205);h=String.fromCharCode(186);break;case BorderStyle.DoubleH:case BorderStyle.SingleV:b=String.fromCharCode(213);f=String.fromCharCode(184);c=String.fromCharCode(212);g=String.fromCharCode(190);l=String.fromCharCode(205);h=String.fromCharCode(179);break;case BorderStyle.DoubleV:case BorderStyle.SingleH:b=String.fromCharCode(214),f=String.fromCharCode(183),c=String.fromCharCode(211),g=String.fromCharCode(189),l=String.fromCharCode(196),
h=String.fromCharCode(186)}Crt.FastWrite(b+StringUtils.NewString(l,d.Width-2)+f,d.ScreenLeft,d.ScreenTop,new TCharInfo(" ",d.ForeColour+(d.BackColour<<4)));for(a=d.ScreenTop+1;a<d.ScreenTop+d.Height-1;a++)Crt.FastWrite(h+StringUtils.NewString(" ",d.Width-2)+h,d.ScreenLeft,a,new TCharInfo(" ",d.ForeColour+(d.BackColour<<4)));Crt.FastWrite(c+StringUtils.NewString(l,d.Width-2)+g,d.ScreenLeft,d.ScreenTop+d.Height-1,new TCharInfo(" ",d.ForeColour+(d.BackColour<<4)));if(0<StringUtils.Trim(q).length){g=
c=0;l=" "+StringUtils.Trim(q)+" ";switch(v){case ContentAlignment.BottomLeft:case ContentAlignment.MiddleLeft:case ContentAlignment.TopLeft:c=d.ScreenLeft+2;break;case ContentAlignment.BottomCenter:case ContentAlignment.MiddleCenter:case ContentAlignment.TopCenter:c=d.ScreenLeft+Math.round((d.Width-l.length)/2);break;case ContentAlignment.BottomRight:case ContentAlignment.MiddleRight:case ContentAlignment.TopRight:c=d.ScreenLeft+d.Width-l.length-2}switch(v){case ContentAlignment.BottomCenter:case ContentAlignment.BottomLeft:case ContentAlignment.BottomRight:g=
d.ScreenTop+d.Height-1;break;case ContentAlignment.MiddleCenter:case ContentAlignment.MiddleLeft:case ContentAlignment.MiddleRight:case ContentAlignment.TopCenter:case ContentAlignment.TopLeft:case ContentAlignment.TopRight:g=d.ScreenTop}Crt.FastWrite(l,c,g,new TCharInfo(" ",d.ForeColour+(d.BackColour<<4)))}};this.__defineGetter__("Text",function(){return q});this.__defineSetter__("Text",function(a){q=a;d.Paint(!0)});this.__defineGetter__("TextAlign",function(){return v});this.__defineSetter__("TextAlign",
function(a){a!==v&&(v=a,d.Paint(!0))});TCrtControl.call(this,a,c,h,m,n);p=b;d.ForeColour=l;d.BackColour=s;q=g;v=f;d.Paint(!0)};TCrtPanel.prototype=new TCrtControlSurrogate;TCrtPanel.prototype.constructor=TCrtPanel;TCrtPanel.prototype.Paint=function(a){this.PaintCrtPanel()};
var TCrtProgressBar=function(a,c,h,m,n){var b=this,l,s,g=9999,f=0,d="",p,q,v,x,w,u;this.__defineGetter__("BarForeColour",function(){return l});this.__defineSetter__("BarForeColour",function(a){a!==l&&(l=a,b.Paint(!0))});this.__defineGetter__("BlankForeColour",function(){return s});this.__defineSetter__("BlankForeColour",function(a){a!==s&&(s=a,b.Paint(!0))});this.__defineGetter__("MarqueeAnimationSpeed",function(){return p});this.__defineSetter__("MarqueeAnimationSpeed",function(a){p=a});this.__defineGetter__("Maximum",
function(){return q});this.__defineSetter__("Maximum",function(a){a!==q&&(q=a,u>q&&(u=q),b.Paint(!0))});this.PaintCrtProgressBar=function(a){if(w===ProgressBarStyle.Marquee)a&&Crt.FastWrite(StringUtils.NewString(String.fromCharCode(176),b.Width),b.ScreenLeft,b.ScreenTop,new TCharInfo(" ",s+(b.BackColour<<4))),0<u&&(u>b.Width?Crt.FastWrite(String.fromCharCode(176),b.ScreenLeft+b.Width-(15-Math.floor(u-b.Width)),b.ScreenTop,new TCharInfo(" ",s+(b.BackColour<<4))):15<=u?(Crt.FastWrite(StringUtils.NewString(String.fromCharCode(219),
Math.min(u,15)),b.ScreenLeft+u-15,b.ScreenTop,new TCharInfo(" ",l+(b.BackColour<<4))),Crt.FastWrite(String.fromCharCode(176),b.ScreenLeft+u-15,b.ScreenTop,new TCharInfo(" ",s+(b.BackColour<<4)))):Crt.FastWrite(StringUtils.NewString(String.fromCharCode(219),Math.min(u,15)),b.ScreenLeft,b.ScreenTop,new TCharInfo(" ",l+(b.BackColour<<4))));else{a&&(g=9999,d="");var f=!1,c=u/q;a=Math.floor(c*b.Width);a!==g&&(a<g&&Crt.FastWrite(StringUtils.NewString(String.fromCharCode(176),b.Width),b.ScreenLeft,b.ScreenTop,
new TCharInfo(" ",s+(b.BackColour<<4))),Crt.FastWrite(StringUtils.NewString(String.fromCharCode(w),a),b.ScreenLeft,b.ScreenTop,new TCharInfo(" ",l+(b.BackColour<<4))),g=a,f=!0);if(x&&(c=StringUtils.FormatPercent(c,v),c!==d||f))if(d=c,f=Math.round((b.Width-c.length)/2),f>=a)Crt.FastWrite(c,b.ScreenLeft+f,b.ScreenTop,new TCharInfo(" ",s+(b.BackColour<<4)));else if(f+c.length<=a)Crt.FastWrite(c,b.ScreenLeft+f,b.ScreenTop,new TCharInfo(" ",b.BackColour+(l<<4)));else{var h;for(h=0;h<c.length;h++){var p=
f+h,m=p>=a?s:b.BackColour,n=p>=a?b.BackColour:l;Crt.FastWrite(c.charAt(h),b.ScreenLeft+p,b.ScreenTop,new TCharInfo(" ",m+(n<<4)))}}}};this.__defineGetter__("PercentPrecision",function(){return v});this.__defineSetter__("PercentPrecision",function(a){a!==v&&(v=a,b.Paint(!0))});this.__defineGetter__("PercentVisible",function(){return x});this.__defineSetter__("PercentVisible",function(a){a!==x&&(x=a,b.Paint(!0))});this.Step=function(){b.StepBy(1)};this.StepBy=function(a){b.Value+=a};this.__defineGetter__("Style",
function(){return w});this.__defineSetter__("Style",function(a){a!==w&&(w=a,b.Paint(!0))});this.__defineGetter__("Value",function(){return u});this.__defineSetter__("Value",function(a){a!==u&&(w===ProgressBarStyle.Marquee?new Date-f>=p&&(0>a&&(a=0),a>=b.Width+15&&(a=0),u=a,b.Paint(!1),f=new Date):(u=Math.max(0,Math.min(a,q)),b.Paint(!1)))});TCrtControl.call(this,a,c,h,m,1);w=n;b.BackColour=Crt.BLUE;l=Crt.YELLOW;s=Crt.LIGHTGRAY;f=new Date;p=25;q=100;v=2;x=!0;u=0;b.Paint(!0)};
TCrtProgressBar.prototype=new TCrtControlSurrogate;TCrtProgressBar.prototype.constructor=TCrtProgressBar;TCrtProgressBar.prototype.Paint=function(a){this.PaintCrtProgressBar()};
var AnsiParserState=0,TAnsiParserState=function(){this.None=0;this.Escape=1;this.Bracket=2;this.ParameterByte=3;this.IntermediateByte=4},AnsiParserState=new TAnsiParserState,ESCQEvent=function(a,c,h){this.CodePage=a;this.Width=c;this.Height=h},Ansi=0,TAnsi=function(){this.onesc5n=function(){};this.onesc6n=function(){};this.onesc255n=function(){};this.onescQ=function(){};this.onripdetect=function(){};this.onripdisable=function(){};this.onripenable=function(){};var a=[0,4,2,6,1,5,3,7],c=this,h,m,n,
b,l,s,g=function(f){var d=0,g=d=0,l=0;switch(f){case "!":1>b.length&&b.push("0");switch(parseInt(b.shift(),10)){case 0:c.onripdetect();break;case 1:c.onripdisable();break;case 2:c.onripenable();break;default:trace("Unknown ESC sequence: PB("+b.toString()+") IB("+n.toString()+") FB("+f+")")}break;case "@":1>b.length&&b.push("1");d=Math.max(1,parseInt(b.shift(),10));Crt.InsChar(" ",d);break;case "{":trace("Unhandled ESC sequence: Indicates that a font block is following");break;case "A":1>b.length&&
b.push("1");g=Math.max(1,parseInt(b.shift(),10));g=Math.max(1,Crt.WhereY()-g);Crt.GotoXY(Crt.WhereX(),g);break;case "B":1>b.length&&b.push("1");g=Math.max(1,parseInt(b.shift(),10));g=Math.min(Crt.WindRows,Crt.WhereY()+g);Crt.GotoXY(Crt.WhereX(),g);break;case "C":1>b.length&&b.push("1");d=Math.max(1,parseInt(b.shift(),10));d=Math.min(Crt.WindCols,Crt.WhereX()+d);Crt.GotoXY(d,Crt.WhereY());break;case "c":1>b.length&&b.push("0");trace("Unhandled ESC sequence: Device Attributes");break;case "D":if(0===
n.length)1>b.length&&b.push("1"),d=Math.max(1,parseInt(b.shift(),10)),d=Math.max(1,Crt.WhereX()-d),Crt.GotoXY(d,Crt.WhereY());else if(-1!==n.indexOf(" ")){for(;2>b.length;)b.push("0");d=parseInt(b.shift(),10);g=parseInt(b.shift(),10);trace("Unhandled ESC sequence: Font Selection (set font "+d+" to "+g+")");break}break;case "E":1>b.length&&b.push("1");g=Math.max(1,parseInt(b.shift(),10));g=Math.min(Crt.WindRows,Crt.WhereY()+g);Crt.GotoXY(1,g);break;case "F":1>b.length&&b.push("1");g=Math.max(1,parseInt(b.shift(),
10));g=Math.max(1,Crt.WhereY()-g);Crt.GotoXY(1,g);break;case "G":1>b.length&&b.push("1");d=Math.max(1,parseInt(b.shift(),10));1<=d&&d<=Crt.WindCols&&Crt.GotoXY(d,Crt.WhereY());break;case "H":case "f":for(;2>b.length;)b.push("1");g=Math.max(1,parseInt(b.shift(),10));d=Math.max(1,parseInt(b.shift(),10));Crt.GotoXY(d,g);break;case "h":1>b.length&&b.push("0");switch(b[0]){case "=255":trace("Unhandled ESC sequence: Enable DoorWay Mode");break;case "?6":trace("Unhandled ESC sequence: Enable origin mode");
break;case "?7":trace("Unhandled ESC sequence: Enable auto wrap");break;case "?25":Crt.ShowCursor();break;case "?31":trace("Unhandled ESC sequence: Enable alt character set");break;case "?32":trace("Unhandled ESC sequence: Bright Intensity Enable");break;case "?33":trace("Unhandled ESC sequence: Blink to Bright Intensity Background");break;default:trace("Unknown ESC sequence: PB("+b.toString()+") IB("+n.toString()+") FB("+f+")")}break;case "J":1>b.length&&b.push("0");switch(parseInt(b.shift(),10)){case 0:Crt.ClrEos();
break;case 1:Crt.ClrBos();break;case 2:Crt.ClrScr()}break;case "K":1>b.length&&b.push("0");switch(parseInt(b.shift(),10)){case 0:Crt.ClrEol();break;case 1:Crt.ClrBol();break;case 2:Crt.ClrLine()}break;case "L":1>b.length&&b.push("1");g=Math.max(1,parseInt(b.shift(),10));Crt.InsLine(g);break;case "l":1>b.length&&b.push("0");switch(b[0]){case "=255":trace("Unhandled ESC sequence: Disable DoorWay Mode");break;case "?6":trace("Unhandled ESC sequence: Disable origin mode");break;case "?7":trace("Unhandled ESC sequence: Disable auto wrap");
break;case "?25":Crt.HideCursor();break;case "?31":trace("Unhandled ESC sequence: Disable alt character set");break;case "?32":trace("Unhandled ESC sequence: Bright Intensity Disable");break;case "?33":trace("Unhandled ESC sequence: Blink Normal");break;default:trace("Unknown ESC sequence: PB("+b.toString()+") IB("+n.toString()+") FB("+f+")")}break;case "M":if("="===b[0][0])switch(1>b.length&&b.push("0"),d=parseInt(b.shift(),10),d){case 0:trace("Unhandled ESC sequence: Only CSI | will introduce an ANSI music string.");
break;case 1:trace("Unhandled ESC sequence: Both CSI | and CSI N will introduce an ANSI music string.");break;case 2:trace("Unhandled ESC sequence: CSI |, CSI N, and CSI M will all intriduce and ANSI music string.");break;default:trace("Unknown ESC sequence: PB("+b.toString()+") IB("+n.toString()+") FB("+f+")")}else 1>b.length&&b.push("1"),g=Math.max(1,parseInt(b.shift(),10)),Crt.DelLine(g);break;case "m":for(1>b.length&&b.push("0");0<b.length;)switch(d=parseInt(b.shift(),10),d){case 0:Crt.NormVideo();
break;case 1:Crt.HighVideo();break;case 2:Crt.LowVideo();break;case 5:Crt.SetBlink(!0);Crt.SetBlinkRate(500);break;case 6:Crt.SetBlink(!0);Crt.SetBlinkRate(250);break;case 7:Crt.ReverseVideo();break;case 8:h=Crt.TextAttr;Crt.Conceal();break;case 22:Crt.LowVideo();break;case 25:Crt.SetBlink(!1);break;case 27:Crt.ReverseVideo();break;case 28:Crt.TextAttr=h;break;case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:d=a[d-30];7<Crt.TextAttr%16&&(d+=8);Crt.TextColor(d);break;case 39:d=a[7];
7<Crt.TextAttr%16&&(d+=8);Crt.TextColor(d);break;case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:d=a[d-40];Crt.TextBackground(d);break;case 49:d=a[0],Crt.TextBackground(d)}break;case "N":trace("Unhandled ESC sequence: ANSI Music");break;case "n":1>b.length&&b.push("0");d=parseInt(b.shift(),10);switch(d){case 5:c.onesc5n();break;case 6:c.onesc6n();break;case 255:c.onesc255n();break;default:trace("Unknown ESC sequence: PB("+b.toString()+") IB("+n.toString()+") FB("+f+")")}break;case "P":1>
b.length&&b.push("1");d=Math.max(1,parseInt(b.shift(),10));Crt.DelChar(d);break;case "Q":for(;3>b.length;)b.push("0");d=parseInt(b.shift(),10);g=parseInt(b.shift(),10);l=parseInt(b.shift(),10);c.onescQ(new ESCQEvent(d,g,l));break;case "r":0===n.length?trace("Unknown ESC sequence: PB("+b.toString()+") IB("+n.toString()+") FB("+f+")"):-1!==n[0].indexOf("*")?trace("Unhandled ESC sequence: Set the output emulation speed."):-1!==n[0].indexOf("]")?trace("Unhandled ESC sequence: Set Top and Bottom Margins"):
trace("Unknown ESC sequence: PB("+b.toString()+") IB("+n.toString()+") FB("+f+")");break;case "S":1>b.length&&b.push("1");g=Math.max(1,parseInt(b.shift(),10));Crt.ScrollUpScreen(g);break;case "s":0===n.length?s=new Point(Crt.WhereX(),Crt.WhereY()):trace("Unhandled ESC sequence: Save Mode Setting");break;case "T":1>b.length&&b.push("1");g=Math.max(1,parseInt(b.shift(),10));Crt.ScrollDownWindow(g);break;case "U":trace("Unhandled ESC sequence: Clear screen with default attribute");break;case "u":0===
n.length?Crt.GotoXY(s.x,s.y):trace("Unhandled ESC sequence: Restore Mode Setting");break;case "X":1>b.length&&b.push("1");d=Math.max(1,parseInt(b.shift(),10));Crt.DelChar(d);break;case "Z":trace("Unhandled ESC sequnce: Cursor Backward Tabulation");break;default:trace("Unknown ESC sequence: PB("+b.toString()+") IB("+n.toString()+") FB("+f+")")}};this.ClrBol=function(){return"\u001b[1K"};this.ClrBos=function(){return"\u001b[1J"};this.ClrEol=function(){return"\u001b[K"};this.ClrEos=function(){return"\u001b[J"};
this.ClrLine=function(){return"\u001b[2K"};this.ClrScr=function(){return"\u001b[2J"};this.CursorDown=function(a){return 1===a?"\u001b[B":"\u001b["+a.toString()+"B"};this.CursorLeft=function(a){return 1===a?"\u001b[D":"\u001b["+a.toString()+"D"};this.CursorPosition=function(a,b){void 0===a&&(a=Crt.WhereYA());void 0===b&&(b=Crt.WhereXA());return"\u001b["+a+";"+b+"R"};this.CursorRestore=function(){return"\u001b[u"};this.CursorRight=function(a){return 1===a?"\u001b[C":"\u001b["+a.toString()+"C"};this.CursorSave=
function(){return"\u001b[s"};this.CursorUp=function(a){return 1===a?"\u001b[A":"\u001b["+a.toString()+"A"};this.GotoX=function(a){return 1===a?c.CursorLeft(255):c.CursorLeft(255)+c.CursorRight(a-1)};this.GotoXY=function(a,b){return"\u001b["+b.toString()+";"+a.toString()+"H"};this.GotoY=function(a){return 1===a?c.CursorUp(255):c.CursorUp(255)+c.CursorDown(a-1)};this.TextAttr=function(a){return c.TextColor(a%16)+c.TextBackground(Math.floor(a/16))};this.TextBackground=function(b){for(;8<=b;)b-=8;return"\u001b["+
(40+a[b]).toString()+"m"};this.TextColor=function(b){switch(b%16){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:return"\u001b[0;"+(30+a[b%16]).toString()+"m"+c.TextBackground(Crt.TextAttr/16);case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return"\u001b[1;"+(30+a[b%16-8]).toString()+"m"}return""};this.Write=function(a){if(Crt.Atari||Crt.C64)Crt.Write(a);else{var c="",h;for(h=0;h<a.length;h++)if("\u001b"===a.charAt(h))l=AnsiParserState.Escape;else if(l===AnsiParserState.Escape)if("["===
a.charAt(h)){l=AnsiParserState.Bracket;for(m="";0<b.length;)b.pop();for(;0<n.length;)n.pop()}else c+=a.charAt(h),l=AnsiParserState.None;else l===AnsiParserState.Bracket?"0"<=a.charAt(h)&&"?">=a.charAt(h)?(m+=a.charAt(h),l=AnsiParserState.ParameterByte):" "<=a.charAt(h)&&"/">=a.charAt(h)?(m+=a.charAt(h),l=AnsiParserState.IntermediateByte):("@"<=a.charAt(h)&&"~">=a.charAt(h)?(Crt.Write(c),c="",g(a.charAt(h))):c+=a.charAt(h),l=AnsiParserState.None):l===AnsiParserState.ParameterByte?";"===a.charAt(h)?
(b.push(""===m?"0":m),m=""):"0"<=a.charAt(h)&&"?">=a.charAt(h)?m+=a.charAt(h):" "<=a.charAt(h)&&"/">=a.charAt(h)?(b.push(""===m?"0":m),m="",n.push(a.charAt(h)),l=AnsiParserState.IntermediateByte):("@"<=a.charAt(h)&&"~">=a.charAt(h)?(b.push(""===m?"0":m),m="",Crt.Write(c),c="",g(a.charAt(h))):c+=a.charAt(h),l=AnsiParserState.None):l===AnsiParserState.IntermediateByte?"0"<=a.charAt(h)&&"?">=a.charAt(h)?(c+=a.charAt(h),l=AnsiParserState.None):" "<=a.charAt(h)&&"/">=a.charAt(h)?n.push(a.charAt(h)):("@"<=
a.charAt(h)&&"~">=a.charAt(h)?(Crt.Write(c),c="",g(a.charAt(h))):c+=a.charAt(h),l=AnsiParserState.None):c+=a.charAt(h);Crt.Write(c)}};this.WriteLn=function(a){c.Write(a+"\r\n")};h=7;m="";n=[];b=[];l=AnsiParserState.None;s=new Point(1,1)},Ansi=new TAnsi,WebSocketProtocol="https:"===document.location.protocol?"wss":"ws",WebSocketSupportsTypedArrays="Uint8Array"in window&&"set"in Uint8Array.prototype,WebSocketSupportsBinaryType=WebSocketSupportsTypedArrays&&("binaryType"in WebSocket.prototype||!!(new WebSocket(WebSocketProtocol+
"://.")).binaryType),TTcpConnection=function(){this.onclose=function(){};this.onconnect=function(){};this.onioerror=function(a){};this.onsecurityerror=function(){};var a=this,c=!1;this.FOutputBuffer=this.FInputBuffer=null;this.FProtocol="plain";this.FWebSocket=null;var h=function(){},m=function(a){},n=function(){},b=function(a){};this.__defineGetter__("bytesAvailable",function(){return a.FInputBuffer.bytesAvailable});this.close=function(){a.FWebSocket&&a.FWebSocket.close()};this.connect=function(l,
s,g,f,d){void 0===g&&(g="");void 0===f&&(f=1123);void 0===d&&(d=11235);c=!1;var p;p=!window.WebSocket||2!==WebSocket.CLOSED&&2!==WebSocket.prototype.CLOSED?WebSocketSupportsBinaryType&&WebSocketSupportsTypedArrays?["binary","base64","plain"]:["base64","plain"]:["plain"];a.FWebSocket=""===g?new WebSocket(WebSocketProtocol+"://"+l+":"+s,p):new WebSocket(WebSocketProtocol+"://"+g+":"+("wss"===WebSocketProtocol?d:f)+"/"+l+"/"+s,p);0<=p.indexOf("binary")&&(a.FWebSocket.binaryType="arraybuffer");a.FWebSocket.onclose=
h;a.FWebSocket.onerror=m;a.FWebSocket.onmessage=b;a.FWebSocket.onopen=n};this.__defineGetter__("connected",function(){return a.FWebSocket?a.FWebSocket.readyState===a.FWebSocket.OPEN:!1});this.flushTcpConnection=function(){var b=[];for(a.FOutputBuffer.position=0;0<a.FOutputBuffer.bytesAvailable;){var c=a.FOutputBuffer.readUnsignedByte();b.push(c)}a.Send(b);a.FOutputBuffer.clear()};this.NegotiateInboundTcpConnection=function(b){for(;b.bytesAvailable;){var c=b.readUnsignedByte();a.FInputBuffer.writeByte(c)}};
h=function(){if(c)a.onclose();else a.onsecurityerror();c=!1};m=function(b){a.onioerror(b)};n=function(){a.FProtocol=a.FWebSocket.protocol?a.FWebSocket.protocol:"plain";c=!0;a.onconnect()};b=function(b){0===a.FInputBuffer.bytesAvailable&&a.FInputBuffer.clear();var c=a.FInputBuffer.position;a.FInputBuffer.position=a.FInputBuffer.length;var g=new ByteArray;if("binary"===a.FProtocol){var f=new Uint8Array(b.data);for(b=0;b<f.length;b++)g.writeByte(f[b])}else if("base64"===a.FProtocol)for(f=Base64.decode(b.data,
0),b=0;b<f.length;b++)g.writeByte(f[b]);else g.writeString(b.data);g.position=0;a.NegotiateInbound(g);a.FInputBuffer.position=c};this.readBoolean=function(){return a.FInputBuffer.readBoolean()};this.readByte=function(){return a.FInputBuffer.readByte()};this.readBytes=function(b,c,g){return a.FInputBuffer.readBytes(b,c,g)};this.readDouble=function(){return a.FInputBuffer.readDouble()};this.readFloat=function(){return a.FInputBuffer.readFloat()};this.readInt=function(){return a.FInputBuffer.readInt()};
this.readMultiByte=function(b,c){return a.FInputBuffer.readMultiByte(b,c)};this.readObject=function(){return a.FInputBuffer.readObject()};this.readShort=function(){return a.FInputBuffer.readShort()};this.readString=function(b){return a.FInputBuffer.readString()};this.readUnsignedByte=function(){return a.FInputBuffer.readUnsignedByte()};this.readUnsignedInt=function(){return a.FInputBuffer.readUnsignedInt()};this.readUnsignedShort=function(){return a.FInputBuffer.readUnsignedShort()};this.readUTF=
function(){return a.FInputBuffer.readUTF()};this.readUTFBytes=function(b){return a.FInputBuffer.readUTFBytes(b)};this.Send=function(b){if("binary"===a.FProtocol)a.FWebSocket.send((new Uint8Array(b)).buffer);else if("base64"===a.FProtocol)a.FWebSocket.send(Base64.encode(b));else{var c="",g;for(g=0;g<b.length;g++)c+=String.fromCharCode(b[g]);a.FWebSocket.send(c)}};this.writeBoolean=function(b){a.FOutputBuffer.writeBoolean(b)};this.writeByte=function(b){a.FOutputBuffer.writeByte(b)};this.writeBytes=
function(b,c,g){a.FOutputBuffer.writeBytes(b,c,g)};this.writeDouble=function(b){a.FOutputBuffer.writeDouble(b)};this.writeFloat=function(b){a.FOutputBuffer.writeFloat(b)};this.writeInt=function(b){a.FOutputBuffer.writeInt(b)};this.writeMultiByte=function(b,c){a.FOutputBuffer.writeMultiByte(b,c)};this.writeObject=function(b){a.FOutputBuffer.writeObject(b)};this.writeShort=function(b){a.FOutputBuffer.writeShort(b)};this.writeString=function(b){a.FOutputBuffer.writeString(b);a.flush()};this.writeUnsignedInt=
function(b){a.FOutputBuffer.writeUnsignedInt(b)};this.writeUTF=function(b){a.FOutputBuffer.writeUTF(b)};this.writeUTFBytes=function(b){a.FOutputBuffer.writeUTFBytes(b)};a.FInputBuffer=new ByteArray;a.FOutputBuffer=new ByteArray},TTcpConnectionSurrogate=function(){};TTcpConnectionSurrogate.prototype=TTcpConnection.prototype;TTcpConnection.prototype.flush=function(){this.flushTcpConnection()};TTcpConnection.prototype.NegotiateInbound=function(a){this.NegotiateInboundTcpConnection(a)};
var TelnetCommand=0,TTelnetCommand=function(){this.EndSubnegotiation=240;this.NoOperation=241;this.DataMark=242;this.Break=243;this.InterruptProcess=244;this.AbortOutput=245;this.AreYouThere=246;this.EraseCharacter=247;this.EraseLine=248;this.GoAhead=249;this.Subnegotiation=250;this.Will=251;this.Wont=252;this.Do=253;this.Dont=254;this.IAC=255},TelnetCommand=new TTelnetCommand,TelnetNegotiationState=0,TTelnetNegotiationState=function(){this.Data=0;this.IAC=1;this.Do=2;this.Dont=3;this.Will=4;this.Wont=
5},TelnetNegotiationState=new TTelnetNegotiationState,TelnetOption=0,TTelnetOption=function(){this.TransmitBinary=0;this.Echo=1;this.Reconnection=2;this.SuppressGoAhead=3;this.ApproxMessageSizeNegotiation=4;this.Status=5;this.TimingMark=6;this.RemoteControlledTransAndEcho=7;this.OutputLineWidth=8;this.OutputPageSize=9;this.OutputCarriageReturnDisposition=10;this.OutputHorizontalTabStops=11;this.OutputHorizontalTabDisposition=12;this.OutputFormfeedDisposition=13;this.OutputVerticalTabstops=14;this.OutputVerticalTabDisposition=
15;this.OutputLinefeedDisposition=16;this.ExtendedASCII=17;this.Logout=18;this.ByteMacro=19;this.DataEntryTerminal=20;this.SUPDUP=21;this.SUPDUPOutput=22;this.SendLocation=23;this.TerminalType=24;this.EndOfRecord=25;this.TACACSUserIdentification=26;this.OutputMarking=27;this.TerminalLocationNumber=28;this.Telnet3270Regime=29;this.Xdot3PAD=30;this.WindowSize=31;this.TerminalSpeed=32;this.RemoteFlowControl=33;this.LineMode=34;this.XDisplayLocation=35;this.EnvironmentOption=36;this.AuthenticationOption=
37;this.EncryptionOption=38;this.NewEnvironmentOption=39;this.TN3270E=40;this.XAUTH=41;this.CHARSET=42;this.TelnetRemoteSerialPort=43;this.ComPortControlOption=44;this.TelnetSuppressLocalEcho=45;this.TelnetStartTLS=46;this.KERMIT=47;this.SENDURL=48;this.FORWARD_X=49},TelnetOption=new TTelnetOption,TTelnetConnection=function(){var a=this,c,h,m,n,b,l=function(){},s=function(a){},g=function(){},f=function(){},d=function(){},p=function(a){},q=function(a){},v=function(a){},x=function(){},w=function(a){},
u=function(a){};this.flushTelnetConnection=function(){var b=[];for(a.FOutputBuffer.position=0;0<a.FOutputBuffer.bytesAvailable;){var c=a.FOutputBuffer.readUnsignedByte();b.push(c);c===TelnetCommand.IAC&&b.push(TelnetCommand.IAC)}a.Send(b);a.FOutputBuffer.clear()};l=function(){var b=[];b.push(46);a.Send(b)};s=function(a){switch(a){case TelnetCommand.Do:c=!0;w(TelnetOption.Echo);break;case TelnetCommand.Dont:c=!1;u(TelnetOption.Echo);break;case TelnetCommand.Will:c=!1;p(TelnetOption.Echo);break;case TelnetCommand.Wont:c=
!0,q(TelnetOption.Echo)}};g=function(){w(TelnetOption.TerminalType);v(TelnetOption.TerminalType);var c=b[n],d=[];d.push(0);var f;for(f=0;f<c.length;f++)d.push(c.charCodeAt(f));a.Send(d);x();n=n<b.length-1?n+1:0};f=function(){w(TelnetOption.TerminalLocationNumber);v(TelnetOption.TerminalLocationNumber);var b=[];b.push(0);b.push(0);b.push(0);b.push(0);b.push(0);b.push(-1);b.push(255);b.push(255);b.push(255);var c=[],d;for(d=0;d<b.length;d++)c.push(b[d]),b[d]===TelnetCommand.IAC&&c.push(TelnetCommand.IAC);
a.Send(c);x()};d=function(){w(TelnetOption.WindowSize);v(TelnetOption.WindowSize);var b=[];b[0]=Crt.WindCols>>8&255;b[1]=Crt.WindCols&255;b[2]=Crt.WindRows>>8&255;b[3]=Crt.WindRows&255;var c=[],d;for(d=0;d<b.length;d++)c.push(b[d]),b[d]===TelnetCommand.IAC&&c.push(TelnetCommand.IAC);a.Send(c);x()};this.__defineSetter__("LocalEcho",function(b){c=b;a.connected&&(c?w(TelnetOption.Echo):u(TelnetOption.Echo))});this.NegotiateInboundTelnetConnection=function(b){for(;b.bytesAvailable;){var c=b.readUnsignedByte();
if(m===TelnetNegotiationState.Data)c===TelnetCommand.IAC?m=TelnetNegotiationState.IAC:a.FInputBuffer.writeByte(c);else if(m===TelnetNegotiationState.IAC)if(c===TelnetCommand.IAC)m=TelnetNegotiationState.Data,a.FInputBuffer.writeByte(c);else switch(c){case TelnetCommand.NoOperation:case TelnetCommand.DataMark:case TelnetCommand.Break:case TelnetCommand.InterruptProcess:case TelnetCommand.AbortOutput:case TelnetCommand.EraseCharacter:case TelnetCommand.EraseLine:case TelnetCommand.GoAhead:m=TelnetNegotiationState.Data;
break;case TelnetCommand.AreYouThere:l();m=TelnetNegotiationState.Data;break;case TelnetCommand.Do:m=TelnetNegotiationState.Do;break;case TelnetCommand.Dont:m=TelnetNegotiationState.Dont;break;case TelnetCommand.Will:m=TelnetNegotiationState.Will;break;case TelnetCommand.Wont:m=TelnetNegotiationState.Wont;break;default:m=TelnetNegotiationState.Data}else{if(m===TelnetNegotiationState.Do)switch(c){case TelnetCommand.AreYouThere:w(TelnetCommand.AreYouThere);h[TelnetCommand.AreYouThere]=0;break;case TelnetOption.TransmitBinary:w(c);
break;case TelnetOption.Echo:s(TelnetCommand.Do);break;case TelnetOption.SuppressGoAhead:w(c);break;case TelnetOption.TerminalType:g();break;case TelnetOption.TerminalLocationNumber:f();break;case TelnetOption.WindowSize:d();break;case TelnetOption.LineMode:u(c);break;default:u(c)}else if(m===TelnetNegotiationState.Dont)switch(c){case TelnetOption.TransmitBinary:w(c);break;case TelnetOption.Echo:s(TelnetCommand.Dont);break;case TelnetOption.SuppressGoAhead:w(c);break;case TelnetOption.TerminalLocationNumber:u(c);
break;case TelnetOption.WindowSize:u(c);break;case TelnetOption.LineMode:u(c);break;default:u(c)}else if(m===TelnetNegotiationState.Will)switch(c){case TelnetOption.TransmitBinary:p(c);break;case TelnetOption.Echo:s(TelnetCommand.Will);break;case TelnetOption.SuppressGoAhead:p(c);break;case TelnetOption.TerminalLocationNumber:q(c);break;case TelnetOption.WindowSize:q(c);break;case TelnetOption.LineMode:q(c);break;default:q(c)}else if(m===TelnetNegotiationState.Wont)switch(c){case TelnetOption.TransmitBinary:p(c);
break;case TelnetOption.Echo:s(TelnetCommand.Wont);break;case TelnetOption.SuppressGoAhead:p(c);break;case TelnetOption.TerminalLocationNumber:q(c);break;case TelnetOption.WindowSize:q(c);break;case TelnetOption.LineMode:q(c);break;default:q(c)}m=TelnetNegotiationState.Data}}};p=function(b){if(h[b]!==TelnetCommand.Do){h[b]=TelnetCommand.Do;var c=[];c.push(TelnetCommand.IAC);c.push(TelnetCommand.Do);c.push(b);a.Send(c)}};q=function(b){if(h[b]!==TelnetCommand.Dont){h[b]=TelnetCommand.Dont;var c=[];
c.push(TelnetCommand.IAC);c.push(TelnetCommand.Dont);c.push(b);a.Send(c)}};v=function(b){var c=[];c.push(TelnetCommand.IAC);c.push(TelnetCommand.Subnegotiation);c.push(b);a.Send(c)};x=function(){var b=[];b.push(TelnetCommand.IAC);b.push(TelnetCommand.EndSubnegotiation);a.Send(b)};w=function(b){if(h[b]!==TelnetCommand.Will){h[b]=TelnetCommand.Will;var c=[];c.push(TelnetCommand.IAC);c.push(TelnetCommand.Will);c.push(b);a.Send(c)}};u=function(b){if(h[b]!==TelnetCommand.Wont){h[b]=TelnetCommand.Wont;
var c=[];c.push(TelnetCommand.IAC);c.push(TelnetCommand.Wont);c.push(b);a.Send(c)}};TTcpConnection.call(this);c=!1;h=[];var k;for(k=0;256>k;k++)h[k]=0;m=TelnetNegotiationState.Data;n=0;b=["ansi-bbs","ansi","cp437","cp437"]};TTelnetConnection.prototype=new TTcpConnectionSurrogate;TTelnetConnection.prototype.constructor=TTelnetConnection;TTelnetConnection.prototype.flush=function(){this.flushTelnetConnection()};TTelnetConnection.prototype.NegotiateInbound=function(a){this.NegotiateInboundTelnetConnection(a)};
var CRC=function(){},TCRC=function(){var a=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,
23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,
54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,
11923,16050,3793,7920],c=function(a,c){};this.Calculate16=function(a){var m=0,n=a.position;for(a.position=0;0<a.bytesAvailable;)m=c(a.readUnsignedByte(),m);m=c(0,m);m=c(0,m);a.position=n;return m};c=function(c,m){return(a[m>>8&255]^m<<8^c)&65535}},CRC=new TCRC,TFileRecord=function(a,c){var h=new ByteArray,m="",n=0;this.__defineGetter__("data",function(){return h});this.__defineGetter__("name",function(){return m});this.__defineGetter__("size",function(){return n});m=a;n=c},TYModemReceive=function(a){this.ontransfercomplete=
function(){};var c=this,h=!1,m=0,n=!0,b,l=[],s=0,g=!0,f,d,p=0,q,v,x,w,u,k,B,t,C=function(a){},y=function(a){},A=function(){},z=function(a){},D=function(a){},C=function(a){try{f.writeByte(24),f.writeByte(24),f.writeByte(24),f.writeByte(24),f.writeByte(24),f.writeString("\b\b\b\b\b     \b\b\b\b\b")}catch(b){z(b);return}try{f.readString()}catch(c){z(c);return}y("Cancelling ("+a+")")},y=function(a){clearInterval(d);k.Text="Status: "+a;setTimeout(A,3E3)},A=function(){t.Hide();Crt.Blink=h;Crt.ShowCursor();
c.ontransfercomplete()};this.Download=function(){d=setInterval(D,50);h=Crt.Blink;Crt.Blink=!1;Crt.HideCursor();t=new TCrtPanel(null,10,5,60,14,BorderStyle.Single,Crt.WHITE,Crt.BLUE,"YModem-G Receive Status (Hit CTRL+X to abort)",ContentAlignment.TopLeft);q=new TCrtLabel(t,2,2,56,"Receiving file 1",ContentAlignment.Left,Crt.YELLOW,Crt.BLUE);v=new TCrtLabel(t,2,4,56,"File Name: ",ContentAlignment.Left,Crt.YELLOW,Crt.BLUE);x=new TCrtLabel(t,2,5,56,"File Size: ",ContentAlignment.Left,Crt.YELLOW,Crt.BLUE);
w=new TCrtLabel(t,2,6,56,"File Recv: ",ContentAlignment.Left,Crt.YELLOW,Crt.BLUE);B=new TCrtProgressBar(t,2,7,56,ProgressBarStyle.Continuous);u=new TCrtLabel(t,2,9,56,"Total Recv: ",ContentAlignment.Left,Crt.YELLOW,Crt.BLUE);k=new TCrtLabel(t,2,11,56,"Status: Transferring file(s)",ContentAlignment.Left,Crt.WHITE,Crt.BLUE)};this.FileAt=function(a){return l[a]};this.__defineGetter__("FileCount",function(){return l.length});z=function(a){trace("I/O Error: "+a);f.connected?y("Unhandled I/O error"):y("Connection to server lost")};
D=function(a){for(;Crt.KeyPressed();)a=Crt.ReadKey(),null!==a&&0<a.keyString.length&&24===a.keyString.charCodeAt(0)&&C("User requested abort");for(;;){if(0===s)if(0===f.bytesAvailable){if(g&&3E3<new Date-m){try{f.writeByte(71),f.flush()}catch(c){z(c);break}m=new Date}break}else try{s=f.readUnsignedByte()}catch(d){z(d);break}switch(s){case 24:y("Sender requested abort");break;case 1:case 2:g=!1;var h=2===s?1024:128;if(f.bytesAvailable<2+h+1+1)return;s=0;var k=f.readUnsignedByte();a=f.readUnsignedByte();
if(a!==255-k){C("Bad block #: "+a.toString()+" !== 255-"+k.toString());return}a=new ByteArray;f.readBytes(a,0,h);var t=f.readUnsignedShort(),r=CRC.Calculate16(a);if(t!==r){C("Bad CRC: "+t.toString()+" !== "+r.toString());return}if(n){if(0!==k){C("Expecting header got block "+k.toString());return}n=!1;h="";for(t=a.readUnsignedByte();0!==t&&0<a.bytesAvailable;)h+=String.fromCharCode(t),t=a.readUnsignedByte();k="";t=0;for(t=a.readUnsignedByte();48<=t&&57>=t&&0<a.bytesAvailable;)k+=String.fromCharCode(t),
t=a.readUnsignedByte();t=parseInt(k,10);if(0===h.length){y("File(s) successfully received!");return}if(isNaN(t)||0===t){C("File Size missing from header block");return}b=new TFileRecord(h,t);q.Text="Receiving file "+(l.length+1).toString();v.Text="File Name: "+h;x.Text="File Size: "+StringUtils.AddCommas(t)+" bytes";w.Text="File Recv: 0 bytes";B.Value=0;B.Maximum=t;try{f.writeByte(71),f.flush()}catch(e){z(e);return}}else h=Math.min(h,b.size-b.data.length),b.data.writeBytes(a,0,h),p+=h,w.Text="File Recv: "+
StringUtils.AddCommas(b.data.length)+" bytes",B.Value=b.data.length,u.Text="Total Recv: "+StringUtils.AddCommas(p)+" bytes";break;case 4:g=!0;try{f.writeByte(6),f.writeByte(71),f.flush()}catch(L){z(L);return}s=0;n=!0;l.push(b);break;default:C("Unexpected byte: "+s.toString());return}}};f=a},TYModemSend=function(a){this.ontransfercomplete=function(){};var c=this,h=0,m=!1,n=0,b,l=0,s=0,g=[],f=0,d,p,q=0,v=0,x,w,u,k,B,t,C,y,A,z=function(a){},D=function(a){},E=function(){},F=function(a){},J=function(a){},
K=function(a){},G=function(){},H=function(){},r=function(){},z=function(a){try{d.writeByte(24),d.writeByte(24),d.writeByte(24),d.writeByte(24),d.writeByte(24),d.writeString("\b\b\b\b\b     \b\b\b\b\b")}catch(b){F(b);return}try{d.readString()}catch(c){F(c);return}D("Cancelling ("+a+")")},D=function(a){clearInterval(p);t.Text="Status: "+a;setTimeout(E,3E3)},E=function(){A.Hide();Crt.Blink=m;Crt.ShowCursor();c.ontransfercomplete()},F=function(a){trace("I/O Error: "+a);d.connected?D("Unhandled I/O error"):
D("Connection to server lost")},J=function(a){for(;Crt.KeyPressed();)a=Crt.ReadKey(),null!==a&&0<a.keyString.length&&24===a.keyString.charCodeAt(0)&&z("User requested abort");a=0;if(3===f||0!==d.bytesAvailable)switch(f){case 0:try{a=d.readUnsignedByte()}catch(c){F(c);break}if(71!==a){z("Expecting G got "+a.toString()+" (State="+f+")");break}try{d.readString()}catch(m){F(m);break}if(0===g.length){G();D("File(s) successfully sent!");break}b=g.shift();x.Text="Sending file "+(s-g.length).toString()+" of "+
s.toString();w.Text="File Name: "+b.name;u.Text="File Size: "+StringUtils.AddCommas(b.size)+" bytes";k.Text="File Sent: 0 bytes";C.Value=0;C.Maximum=b.size;r();h=1;l=n=0;f=1;break;case 1:try{a=d.readUnsignedByte()}catch(p){F(p);break}if(6!==a&&71!==a){z("Expecting ACK/G got "+a.toString()+" (State="+f+")");break}6===a?f=2:71===a&&(f=3);break;case 2:try{a=d.readUnsignedByte()}catch(q){F(q);break}if(71!==a){z("Expecting G got "+a.toString()+" (State="+f+")");break}f=3;break;case 3:K(16)&&(f=4);break;
case 4:try{a=d.readUnsignedByte()}catch(t){F(t);break}if(6!==a&&21!==a){z("Expecting (N)ACK got "+a.toString()+" (State="+f+")");break}6===a?f=0:21===a&&H()}},K=function(a){var c;for(c=0;c<a;c++){var f=Math.min(1024,b.data.bytesAvailable);if(0===f)return H(),!0;var g=new ByteArray;b.data.readBytes(g,0,f);if(1024>g.length){for(g.position=g.length;1024>g.length;)g.writeByte(26);g.position=0}try{d.writeByte(2),d.writeByte(h%256),d.writeByte(255-h%256),d.writeBytes(g),d.writeShort(CRC.Calculate16(g)),
d.flush()}catch(m){F(m);break}h++;l+=f;v+=f;k.Text="File Sent: "+StringUtils.AddCommas(l)+" bytes";C.StepBy(f);B.Text="Total Sent: "+StringUtils.AddCommas(v)+" bytes";y.StepBy(f)}return!1},G=function(){var a=new ByteArray,b;for(b=0;128>b;b++)a.writeByte(0);try{d.writeByte(1),d.writeByte(0),d.writeByte(255),d.writeBytes(a),d.writeShort(CRC.Calculate16(a)),d.flush()}catch(c){F(c)}},H=function(){try{d.writeByte(4),d.flush()}catch(a){F(a);return}n++},r=function(){for(var a=0,c=new ByteArray,a=0;a<b.name.length;a++)c.writeByte(b.name.charCodeAt(a));
c.writeByte(0);for(var f=b.size.toString(),a=0;a<f.length;a++)c.writeByte(f.charCodeAt(a));if(128>c.length)for(;128>c.length;)c.writeByte(0);else if(128!==c.length)if(1024>c.length)for(;1024>c.length;)c.writeByte(0);else if(1024!==c.length){z("Header packet exceeded 1024 bytes!");return}try{d.writeByte(128===c.length?1:2),d.writeByte(0),d.writeByte(255),d.writeBytes(c),d.writeShort(CRC.Calculate16(c)),d.flush()}catch(g){F(g)}};this.Upload=function(a,b){s=b;g.push(a);if(g.length===b){p=setInterval(J,
50);var c;for(c=0;c<g.length;c++)q+=g[c].size;m=Crt.Blink;Crt.Blink=!1;Crt.HideCursor();A=new TCrtPanel(null,10,5,60,16,BorderStyle.Single,Crt.WHITE,Crt.BLUE,"YModem-G Send Status (Hit CTRL+X to abort)",ContentAlignment.TopLeft);x=new TCrtLabel(A,2,2,56,"Sending file 1 of "+s.toString(),ContentAlignment.Left,Crt.YELLOW,Crt.BLUE);w=new TCrtLabel(A,2,4,56,"File Name: "+g[0].name,ContentAlignment.Left,Crt.YELLOW,Crt.BLUE);u=new TCrtLabel(A,2,5,56,"File Size: "+StringUtils.AddCommas(g[0].size)+" bytes",
ContentAlignment.Left,Crt.YELLOW,Crt.BLUE);k=new TCrtLabel(A,2,6,56,"File Sent: 0 bytes",ContentAlignment.Left,Crt.YELLOW,Crt.BLUE);C=new TCrtProgressBar(A,2,7,56,ProgressBarStyle.Continuous);new TCrtLabel(A,2,9,56,"Total Size: "+StringUtils.AddCommas(q)+" bytes",ContentAlignment.Left,Crt.YELLOW,Crt.BLUE);B=new TCrtLabel(A,2,10,56,"Total Sent: 0 bytes",ContentAlignment.Left,Crt.YELLOW,Crt.BLUE);y=new TCrtProgressBar(A,2,11,56,ProgressBarStyle.Continuous);y.Maximum=q;t=new TCrtLabel(A,2,13,56,"Status: Transferring file(s)",
ContentAlignment.Left,Crt.WHITE,Crt.BLUE)}};d=a},HtmlTerm=function(){},THtmlTerm=function(){var a=this,c=0,h=0,m=0,n=0,b=0,l=0,s=0,g=115200,f=!0,d="437",p="telnet",q="\r",v=16,x=9,w="bbs.ftelnet.ca",u=1123,k="",B=1123,t=11235,C=80,y=25,A="fTelnet / HtmlTerm / GameSrv Support Server",z="G1swbRtbMkobWzA7MEgbWzE7NDQ7MzRt2sTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTEG1swOzQ0OzMwbb8bWzBtDQobWzE7NDQ7MzRtsyAgG1szN21XZWxjb21lISAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAbWzA7NDQ7MzBtsxtbMG0NChtbMTs0NDszNG3AG1swOzQ0OzMwbcTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTE2RtbMG0NCg0KG1sxbSAbWzBtIBtbMTs0NDszNG3axMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMQbWzA7NDQ7MzBtvxtbMG0NCiAgG1sxOzQ0OzM0bbMbWzA7MzRt29vb2xtbMzBt29vb29vb29vb29vb29vb29vb29vb2xtbMzRt29vb29vbG1s0NDszMG2zG1swbQ0KICAbWzE7NDQ7MzRtsxtbMDszNG3b29vbG1sxOzMwbdvb29vb29vb29vb29vb29vb29vb29sbWzA7MzBt29sbWzM0bdvb29sbWzQ0OzMwbbMbWzBtDQogIBtbMTs0NDszNG2zG1swOzM0bdvb29sbWzE7MzBt29vb2xtbMG3b29vb29vb29vb29sbWzFt29vb2xtbMzBt29sbWzA7MzBt29sbWzM0bdvb29sbWzQ0OzMwbbMbWzBtDQogIBtbMTs0NDszNG2zG1swOzM0bdvb29sbWzE7MzBt29vb2xtbMG3b29vb29vb29vbG1sxbdvb29sbWzBt29sbWzE7MzBt29sbWzA7MzBt29sbWzM0bdvb29sbWzQ0OzMwbbMbWzBtDQogIBtbMTs0NDszNG2zG1swOzM0bdvb29sbWzE7MzBt29vb2xtbMG3b29vb29vb2xtbMW3b29vbG1swbdvbG1sxbdvbG1szMG3b2xtbMDszMG3b2xtbMzRt29vb2xtbNDQ7MzBtsxtbMG0NCiAgG1sxOzQ0OzM0bbMbWzA7MzRt29vb2xtbMTszMG3b29vbG1swbdvb29vb2xtbMW3b29vbG1swbdvbG1sxbdvb29sbWzMwbdvbG1swOzMwbdvbG1szNG3b29vbG1s0NDszMG2zG1swbQ0KICAbWzE7NDQ7MzRtsxtbMDszNG3b29vbG1sxOzMwbdvb29sbWzBt29vb2xtbMW3b29vbG1swbdvbG1sxbdvb29vb2xtbMzBt29sbWzA7MzBt29sbWzM0bdvb29sbWzQ0OzMwbbMbWzQwOzM3bQ0KICAbWzE7NDQ7MzRtsxtbMDszNG3b29vbG1sxOzMwbdvbG1swOzMwbdvbG1sxbdvb29vb29vb29vb29vb29vb2xtbMDszMG3b2xtbMzRt29vb2xtbNDQ7MzBtsxtbNDA7MzdtDQogIBtbMTs0NDszNG2zG1swOzM0bdvb29sbWzE7MzBt29sbWzBt29vb29vb29vb29vb29vb29vb29sbWzMwbdvbG1szNG3b29vbG1s0NDszMG2zG1s0MDszN20NCiAgG1sxOzQ0OzM0bbMbWzA7MzBt29vb29vb29vb29vb29vb29vb29vb29vb29vb29vbG1szNG3b2xtbNDQ7MzBtsxtbNDA7MzdtDQogIBtbMTs0NDszNG2zG1s0MDszMG3b2xtbMG3b29vb29vb29vb29vb29vb29vb29vb29vb29vbG1szMG3b2xtbNDRtsxtbNDA7MzdtIBtbMzRtIBtbMTs0NzszN23axMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMQbWzMwbb8bWzBtDQogIBtbMTs0NDszNG2zG1swOzMwbdvbG1sxbdvb29vb29vb29vb29vb29sbWzA7MzBt29vb29vb29vb2xtbMW3b2xtbMDszMG3b2xtbNDRtsxtbNDA7MzdtIBtbMzRtIBtbMTs0NzszN22zICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAbWzMwbbMbWzBtDQogIBtbMTs0NDszNG2zG1s0MDszMG3b2xtbMG3b29vb29vb29vb29vb29vb29vb29vb29vb29vbG1szMG3b2xtbNDRtsxtbMG0gG1szNG0gG1sxOzQ3OzM3bbMgICAbWzM0bUh0bWxUZXJtIC0tIFRlbG5ldCBmb3IgdGhlIFdlYiAgICAgG1szMG2zG1swbQ0KG1sxbSAbWzBtIBtbMTs0NDszNG2zG1swOzMwbdvbG1sxbdvb29vb29vb29vb29vb29vb29vb29vb2xtbMDszMG3b29vb29sbWzQ0bbMbWzBtIBtbMzRtIBtbMTs0NzszN22zICAgICAbWzA7NDc7MzRtV2ViIGJhc2VkIEJCUyB0ZXJtaW5hbCBjbGllbnQgICAgG1sxOzMwbbMbWzBtDQogIBtbMTs0NDszNG2zG1swOzM0bdvbG1szMG3b29vb29vb29vb29vb29vb29vb29vb29vb29vbG1szNG3b2xtbNDQ7MzBtsxtbMG0gG1szNG0gG1sxOzQ3OzM3bbMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIBtbMzBtsxtbMG0NCiAgG1sxOzQ0OzM0bcAbWzA7NDQ7MzBtxMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTZG1swbSAbWzM0bSAbWzE7NDc7MzdtwBtbMzBtxMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTZG1swbQ0KDQobWzExQxtbMTszMm1Db3B5cmlnaHQgKEMpIDIwMDAtMjAxNCBSJk0gU29mdHdhcmUuICBBbGwgUmlnaHRzIFJlc2VydmVkDQobWzA7MzRtxMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExA==",
D=!0,E=function(a){},F=function(a){},J=function(a){},K=function(a){},G=function(a){},H=function(a){},r=function(a){},e=function(a){},L=function(a){},O=function(){},M=function(a){},P=function(a){},N=function(a){},Q=function(a){},R=function(){},S=function(a,b){};this.Init=function(c){if(null===document.getElementById(c))return trace('HtmlTerm Error: Your document is missing the required element with id="'+c+'"'),!1;h=document.getElementById(c);if("Microsoft Internet Explorer"===navigator.appName&&(c=
-1,null!==/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(navigator.userAgent)&&(c=parseFloat(RegExp.$1)),9>c))return trace("HtmlTerm Error: IE less than 9.0 found (and is not supported)"),!1;if(Crt.Init(h)){Crt.Blink=f;Crt.SetFont(d,x,v);Crt.SetScreenSize(C,y);D&&(Crt.Window(1,1,C,y-1),a.UpdateStatusBar(" Not connected"));Crt.Canvas.addEventListener(Crt.SCREEN_SIZE_CHANGED,L,!1);if(!("WebSocket"in window))return Crt.WriteLn(),Crt.WriteLn("Sorry, but your browser doesn't support the WebSocket protocol!"),Crt.WriteLn(),
Crt.WriteLn("WebSockets are how HtmlTerm connects to the remote server, so without them that"),Crt.WriteLn("means you won't be able to connect anywhere."),Crt.WriteLn(),Crt.WriteLn("If you can, try upgrading your web browser.  If that's not an option (ie you're"),Crt.WriteLn("already running the latest version your platform supports, like IE 8 on"),Crt.WriteLn("Windows XP), then try switching to a different web browser."),Crt.WriteLn(),Crt.WriteLn("Feel free to contact me (http://www.ftelnet.ca/contact/) if you think you're"),
Crt.WriteLn("seeing this message in error, and I'll look into it.  Be sure to let me know"),Crt.WriteLn("what browser you use, as well as which version it is."),trace("HtmlTerm Error: WebSocket not supported"),!1;n=new TSaveFilesButton;h.appendChild(n.Image);n.ongraphicchanged=P;Ansi.onesc5n=E;Ansi.onesc6n=F;Ansi.onesc255n=J;Ansi.onescQ=K;Ansi.Write(atob(z))}else return trace("HtmlTerm Error: Unable to init Crt"),!1;b=setInterval(N,50);return!0};this.__defineGetter__("BitsPerSecond",function(){return g});
this.__defineSetter__("BitsPerSecond",function(a){g=a});this.__defineGetter__("Blink",function(){return f});this.__defineSetter__("Blink",function(a){f=a});this.__defineGetter__("CodePage",function(){return d});this.__defineSetter__("CodePage",function(a){d=a});this.__defineGetter__("ConnectionType",function(){return p});this.__defineSetter__("ConnectionType",function(a){p=a});this.Connect=function(){if(null===c||!c.connected){switch(p){case "rlogin":c=new TRLoginConnection;break;case "tcp":c=new TTcpConnection;
break;default:c=new TTelnetConnection}c.onclose=G;c.onconnect=H;c.onioerror=r;c.onsecurityerror=e;Crt.NormVideo();Crt.ClrScr();""===k?(a.UpdateStatusBar(" Connecting to "+w+":"+u),c.connect(w,u)):(a.UpdateStatusBar(" Connecting to "+w+":"+u+" via proxy"),c.connect(w,u,k,B,t))}};this.Connected=function(){return null===c?!1:c.connected};this.Disconnect=function(){null!==c&&c.connected&&(c.onclose=function(){},c.onconnect=function(){},c.onioerror=function(){},c.onsecurityerror=function(){},c.close(),
c=null,G("Disconnect"))};this.Download=function(a){null!==c&&c.connected&&(l=new TYModemReceive(c),clearInterval(b),l.ontransfercomplete=O,l.Download())};this.__defineGetter__("Enter",function(){return q});this.__defineSetter__("Enter",function(a){q=a});this.__defineGetter__("FontHeight",function(){return v});this.__defineSetter__("FontHeight",function(a){v=a});this.__defineGetter__("FontWidth",function(){return x});this.__defineSetter__("FontWidth",function(a){x=a});this.__defineGetter__("Hostname",
function(){return w});this.__defineSetter__("Hostname",function(a){w=a});E=function(a){c.writeString("\u001b[0n")};F=function(a){c.writeString(Ansi.CursorPosition())};J=function(a){c.writeString(Ansi.CursorPosition(Crt.WindRows,Crt.WindCols))};K=function(a){Crt.SetFont(a.CodePage,a.Width,a.Height)};G=function(b){n.Image.removeEventListener("click",M,!1);n.Hide();a.UpdateStatusBar(" Disconnected from "+w+":"+u)};H=function(b){Crt.ClrScr();""===k?a.UpdateStatusBar(" Connected to "+w+":"+u):a.UpdateStatusBar(" Connected to "+
w+":"+u+" via proxy")};r=function(a){trace("HtmlTerm.OnConnectionIOError")};e=function(b){""===k?a.UpdateStatusBar(" Unable to connect to "+w+":"+u):a.UpdateStatusBar(" Unable to connect to "+w+":"+u+" via proxy")};L=function(a){};O=function(){b=setInterval(N,50);0<l.FileCount&&R()};M=function(a){if(null!==l&&0!==l.FileCount){var b,c,d;if(1===l.FileCount){b=l.FileAt(0).data.toString();c=new ArrayBuffer(b.length);d=new DataView(c);for(a=0;a<b.length;a++)d.setUint8(a,b.charCodeAt(a));a=new Blob([c],
{type:"application/octet-binary"});window.saveAs(a,l.FileAt(0).name)}else if(1<l.FileCount){c=new ByteArray;for(a=0;a<l.FileCount;a++){d=new ByteArray;var e=l.FileAt(a).name;for(b=0;100>b;b++)b<e.length?d.writeByte(e.charCodeAt(b)):d.writeByte(0);for(b=0;8>b;b++)d.writeByte(0);for(b=0;8>b;b++)d.writeByte(0);for(b=0;8>b;b++)d.writeByte(0);e=l.FileAt(a).data.length.toString(8);for(b=0;b<11-e.length;b++)d.writeByte(48);for(b=0;b<e.length;b++)d.writeByte(e.charCodeAt(b));d.writeByte(0);for(b=0;11>b;b++)d.writeByte(0);
d.writeByte(0);for(b=0;8>b;b++)d.writeByte(32);d.writeByte(48);for(b=0;100>b;b++)d.writeByte(0);for(b=0;255>b;b++)d.writeByte(0);for(b=e=d.position=0;512>b;b++)e+=d.readUnsignedByte();c.writeBytes(d,0,148);e=e.toString(8);for(b=0;b<6-e.length;b++)c.writeByte(48);for(b=0;b<e.length;b++)c.writeByte(e.charCodeAt(b));c.writeByte(0);c.writeByte(32);c.writeBytes(d,156,356);c.writeBytes(l.FileAt(a).data);if(0!==l.FileAt(a).data.length%512)for(b=0;b<512-l.FileAt(a).data.length%512;b++)c.writeByte(0)}for(a=
0;1024>a;a++)c.writeByte(0);b=c.toString();c=new ArrayBuffer(b.length);d=new DataView(c);for(a=0;a<b.length;a++)d.setUint8(a,b.charCodeAt(a));a=new Blob([c],{type:"application/octet-binary"});window.saveAs(a,"HtmlTerm-BatchDownload.tar")}n.Image.removeEventListener("click",M,!1);n.Hide();Crt.Canvas.style.opacity=1}};P=function(a){n.Center(Crt.Canvas)};N=function(a){if(null!==c&&c.connected)for(a=(new Date).getTime()-m,1>a&&(a=1),a=Math.floor(g/8/(1E3/a)),1>a&&(a=1),a=c.readString(a),0<a.length&&Ansi.Write(a);Crt.KeyPressed();)a=
Crt.ReadKey(),null!==a&&0<a.keyString.length&&("\r\n"===a.keyString?c.writeString(q):c.writeString(a.keyString));m=(new Date).getTime()};Q=function(a){b=setInterval(N,50)};this.__defineGetter__("Port",function(){return u});this.__defineSetter__("Port",function(a){u=a});this.__defineGetter__("ProxyHostname",function(){return k});this.__defineSetter__("ProxyHostname",function(a){k=a});this.__defineGetter__("ProxyPort",function(){return B});this.__defineSetter__("ProxyPort",function(a){B=a});this.__defineGetter__("ProxyPortSecure",
function(){return t});this.__defineSetter__("ProxyPortSecure",function(a){t=a});this.__defineGetter__("ScreenColumns",function(){return C});this.__defineSetter__("ScreenColumns",function(a){C=a});this.__defineGetter__("ScreenRows",function(){return y});this.__defineSetter__("ScreenRows",function(a){y=a});this.__defineGetter__("ServerName",function(){return A});this.__defineSetter__("ServerName",function(a){A=a});R=function(){Crt.Canvas.style.opacity=.4;n.Image.addEventListener("click",M,!1);n.Center(Crt.Canvas);
n.Show()};this.__defineGetter__("SplashScreen",function(){return z});this.__defineSetter__("SplashScreen",function(a){z=a});this.__defineGetter__("StatusBar",function(){return D});this.__defineSetter__("StatusBar",function(a){D=a});this.UpdateStatusBar=function(a){if(D){for(;a.length<C;)a+=" ";Crt.FastWrite(a,1,y,new TCharInfo(" ",31,!1,!1),!0)}};this.Upload=function(a){if(null!==c&&c.connected){s=new TYModemSend(c);clearInterval(b);s.ontransfercomplete=Q;var d;for(d=0;d<a.length;d++)S(a[d],a.length)}};
S=function(a,b){trace(a);var c=new FileReader;c.onload=function(c){var d=new TFileRecord(a.name,a.size);d.data.writeString(c.target.result);d.data.position=0;s.Upload(d,b)};c.readAsBinaryString(a)}},HtmlTerm=new THtmlTerm;
